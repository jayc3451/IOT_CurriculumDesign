import{d as _t,r as q,o as N,c as mt,w as P,a as k,b as Y,u as F,e as Cr,f as H,t as pt,g as Q,h as et,i as je,j as oe,k as qe,l as se,m as Tr,n as Ke,p as le,q as Je,s as ue,_ as xt,v as nt,x as A,V as Ln,y as U,z as K,A as Jt,B as Xt,C as ts,D as st,E as X,F as ge,G as kn,H as es,I as rs,J as Ba,S as as,K as is,L as Ir,M as Z,N as ct,O as vr,P as Nt,Q as ns,R as j,T as os,U as ve,W as ya,X as ss,Y as ls,Z as jt,$ as J,a0 as us,a1 as vs,a2 as Gt,a3 as ot,a4 as cs,a5 as fs,a6 as hs,a7 as ds,a8 as Pn,a9 as it,aa as _a,ab as ps,ac as W,ad as gs,ae as qt,af as On,ag as Fa,ah as ms,ai as Te,aj as ys,ak as gt,al as Ur,am as En,an as Rn,ao as Qe,ap as Ha,aq as _s,ar as ce,as as xs,at as Nn,au as Gn,av as Bn,aw as Fn,ax as Hn,ay as zn,az as bs,aA as Ss,aB as ws,aC as Cs,aD as Ts,aE as Is,aF as Ds,aG as As,aH as za,aI as Ms,aJ as Va,aK as Xr,aL as Tt,aM as Ft,aN as Ls,aO as ks,aP as Ps,aQ as Os,aR as Es,aS as Rs,aT as Ns,aU as Gs,aV as Bs,aW as Fs,aX as Hs,aY as zs,aZ as Vs,a_ as Ws,a$ as Dt,b0 as zt,b1 as Yr,b2 as Ie,b3 as $s,b4 as Vn,b5 as Zs,b6 as Wa,b7 as jr,b8 as Us,b9 as ht,ba as Xs,bb as Wn,bc as $n,bd as Ys,be as fe,bf as Le,bg as ke,bh as St,bi as rr,bj as ar,bk as Zn,bl as Pe,bm as wt,bn as he,bo as Un,bp as at,bq as js,br as Xn,bs as $a,bt as Yn,bu as ir,bv as At,bw as qs,bx as Ks,by as jn,bz as Js,bA as qn,bB as qr,bC as de,bD as Qs,bE as tl,bF as xa,bG as el,bH as vt,bI as Kr,bJ as Kn,bK as Za,bL as rl,bM as pe,bN as Jn,bO as al,bP as il,bQ as nl,bR as ol,bS as Ua,bT as sl,bU as Xa,bV as Ya,bW as ll,bX as ul,bY as vl,bZ as cl,b_ as Dr,b$ as ja,c0 as qa,c1 as Ka,c2 as fl,c3 as hl,c4 as dl,c5 as Ne,c6 as ba,c7 as pl,c8 as Sa,c9 as Jr,ca as Ja,cb as gl,cc as ml,cd as yl,ce as _l,cf as xl,cg as Qa,ch as De,ci as bl,cj as Sl,ck as Qn,cl as nr,cm as to,cn as wa,co as wl,cp as Qr,cq as Yt,cr as Cl,cs as Qt,ct as Tl,cu as Ca,cv as Ar,cw as Il,cx as Dl,cy as eo,cz as ta,cA as Al,cB as Ml,cC as ro,cD as Ll,cE as kl,cF as Pl,cG as Ol,cH as Be,cI as El,cJ as Rl,cK as Nl,cL as Fe,cM as $,cN as Ge,cO as cr,cP as fr,cQ as ti,cR as ei,cS as ri,cT as ai,cU as Gl,cV as Bl,cW as Fl,cX as ii,cY as Hl,cZ as zl,c_ as Vl,c$ as Wl,d0 as $l,d1 as Zl,d2 as He,d3 as ni,d4 as hr,d5 as Ul,d6 as Xl,d7 as Yl,d8 as jl,d9 as ql,da as Kl}from"./index-CDFFDScO.js";const oi="/temp.svg",si="/humi.svg",li="/CO2.svg",ui="/CH2O.svg",Jl={key:0,class:"exist"},Ql={key:1,class:"exist"},tu={key:0,class:"detect-value"},eu={key:1,class:"detect-value"},ru={key:0,class:"detect-value"},au={key:1,class:"detect-value"},iu={key:0,class:"detect-value"},nu={key:1,class:"detect-value"},ou={key:0,class:"detect-value"},su={key:1,class:"detect-value"},lu={key:0,class:"exist"},uu={key:1,class:"exist"},vu={key:0,class:"detect-value"},cu={key:1,class:"detect-value"},fu={key:0,class:"detect-value"},hu={key:1,class:"detect-value"},du={key:0,class:"detect-value"},pu={key:1,class:"detect-value"},gu={key:0,class:"detect-value"},mu={key:1,class:"detect-value"},yu=_t({__name:"DetectInfo",setup(a){return(e,t)=>{const r=q("el-col"),i=q("el-row"),n=q("el-card");return N(),mt(i,{tpye:"flex",gutter:"10"},{default:P(()=>[k(r,{span:12},{default:P(()=>[k(n,{class:"env-detect-card"},{header:P(()=>[k(i,{justify:"space-between"},{default:P(()=>[k(r,{class:"detect-office",span:12},{default:P(()=>t[0]||(t[0]=[Y("span",null,"办公室①",-1)])),_:1}),k(r,{class:"existance",span:4},{default:P(()=>[F(Cr)!==void 0?(N(),H("span",Jl,pt(F(Cr).value==="true"?"在岗":"离岗"),1)):Q("",!0),F(Cr)==null?(N(),H("span",Ql," --.- ")):Q("",!0)]),_:1})]),_:1})]),default:P(()=>[k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[1]||(t[1]=[Y("img",{src:oi,class:"detect-icon"},null,-1),et(" 温度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(je)!==void 0?(N(),H("span",tu,pt(F(je).value),1)):Q("",!0),F(je)==null?(N(),H("span",eu," --.- ")):Q("",!0),t[2]||(t[2]=et(" °C "))]),_:1})]),_:1}),k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[3]||(t[3]=[Y("img",{src:si,class:"detect-icon"},null,-1),et(" 湿度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(oe)!==void 0?(N(),H("span",ru,pt(F(oe).value),1)):Q("",!0),F(oe)==null?(N(),H("span",au," --.- ")):Q("",!0),t[4]||(t[4]=et(" % "))]),_:1})]),_:1}),k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[5]||(t[5]=[Y("img",{src:li,class:"detect-icon"},null,-1),et(" CO"),Y("sub",null,"2",-1),et("浓度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(qe)!==void 0?(N(),H("span",iu,pt(F(qe).value),1)):Q("",!0),F(qe)==null?(N(),H("span",nu," --.--- ")):Q("",!0),t[6]||(t[6]=et(" ppm "))]),_:1})]),_:1}),k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[7]||(t[7]=[Y("img",{src:ui,class:"detect-icon"},null,-1),et(" 甲醛浓度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(se)!==void 0?(N(),H("span",ou,pt(F(se).value),1)):Q("",!0),F(se)==null?(N(),H("span",su," --.--- ")):Q("",!0),t[8]||(t[8]=et(" mg/m")),t[9]||(t[9]=Y("sup",null,"3",-1))]),_:1})]),_:1})]),_:1})]),_:1}),k(r,{span:12},{default:P(()=>[k(n,{class:"env-detect-card"},{header:P(()=>[k(i,{justify:"space-between"},{default:P(()=>[k(r,{class:"detect-office",span:12},{default:P(()=>t[10]||(t[10]=[Y("span",null,"办公室②",-1)])),_:1}),k(r,{class:"existance",span:4},{default:P(()=>[F(Tr)!==void 0?(N(),H("span",lu,pt(F(Tr).value==="true"?"在岗":"离岗"),1)):Q("",!0),F(Tr)==null?(N(),H("span",uu," --.- ")):Q("",!0)]),_:1})]),_:1})]),default:P(()=>[k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[11]||(t[11]=[Y("img",{src:oi,class:"detect-icon"},null,-1),et(" 温度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(Ke)!==void 0?(N(),H("span",vu,pt(F(Ke).value),1)):Q("",!0),F(Ke)==null?(N(),H("span",cu," --.- ")):Q("",!0),t[12]||(t[12]=et(" °C "))]),_:1})]),_:1}),k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[13]||(t[13]=[Y("img",{src:si,class:"detect-icon"},null,-1),et(" 湿度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(le)!==void 0?(N(),H("span",fu,pt(F(le).value),1)):Q("",!0),F(le)==null?(N(),H("span",hu," --.- ")):Q("",!0),t[14]||(t[14]=et(" % "))]),_:1})]),_:1}),k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[15]||(t[15]=[Y("img",{src:li,class:"detect-icon"},null,-1),et(" CO"),Y("sub",null,"2",-1),et("浓度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(Je)!==void 0?(N(),H("span",du,pt(F(Je).value),1)):Q("",!0),F(Je)==null?(N(),H("span",pu," --.--- ")):Q("",!0),t[16]||(t[16]=et(" ppm "))]),_:1})]),_:1}),k(i,{class:"detect-name",justify:"space-between"},{default:P(()=>[k(r,{span:12},{default:P(()=>t[17]||(t[17]=[Y("img",{src:ui,class:"detect-icon"},null,-1),et(" 甲醛浓度 ")])),_:1}),k(r,{span:12},{default:P(()=>[F(ue)!==void 0?(N(),H("span",gu,pt(F(ue).value),1)):Q("",!0),F(ue)==null?(N(),H("span",mu," --.--- ")):Q("",!0),t[18]||(t[18]=et(" mg/m")),t[19]||(t[19]=Y("sup",null,"3",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),_u=xt(yu,[["__scopeId","data-v-5594a92a"]]);function _e(a){return a==null?0:a.length||1}function vi(a){return a}var ea=function(){function a(e,t,r,i,n,o){this._old=e,this._new=t,this._oldKeyGetter=r||vi,this._newKeyGetter=i||vi,this.context=n,this._diffModeMultiple=o==="multiple"}return a.prototype.add=function(e){return this._add=e,this},a.prototype.update=function(e){return this._update=e,this},a.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},a.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},a.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},a.prototype.remove=function(e){return this._remove=e,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),n=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,n,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=r[s],u=_e(l);if(u>1){var v=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(v,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(n,r)},a.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},n=[],o=[];this._initIndexMap(e,r,n,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<n.length;s++){var l=n[s],u=r[l],v=i[l],c=_e(u),f=_e(v);if(c>1&&f===1)this._updateManyToOne&&this._updateManyToOne(v,u),i[l]=null;else if(c===1&&f>1)this._updateOneToMany&&this._updateOneToMany(v,u),i[l]=null;else if(c===1&&f===1)this._update&&this._update(v,u),i[l]=null;else if(c>1&&f>1)this._updateManyToMany&&this._updateManyToMany(v,u),i[l]=null;else if(c>1)for(var h=0;h<c;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},a.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],n=t[i],o=_e(n);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(n[s]);else o===1&&this._add&&this._add(n);t[i]=null}},a.prototype._initIndexMap=function(e,t,r,i){for(var n=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(n||(r[o]=s),!!t){var l=t[s],u=_e(l);u===0?(t[s]=o,n&&r.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},a}(),xu=function(){function a(e,t){this._encode=e,this._schema=t}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function bu(a,e){var t={},r=t.encode={},i=nt(),n=[],o=[],s={};A(a.dimensions,function(f){var h=a.getDimensionInfo(f),d=h.coordDim;if(d){var p=h.coordDimIndex;Mr(r,d)[p]=f,h.isExtraCoord||(i.set(d,1),wu(h.type)&&(n[0]=f),Mr(s,d)[p]=a.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(f)}Ln.each(function(g,m){var _=Mr(r,m),y=h.otherDims[m];y!=null&&y!==!1&&(_[y]=h.name)})});var l=[],u={};i.each(function(f,h){var d=r[h];u[h]=d[0],l=l.concat(d)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=U(l,function(f){return a.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=u;var v=r.label;v&&v.length&&(n=v.slice());var c=r.tooltip;return c&&c.length?o=c.slice():o.length||(o=n.slice()),r.defaultedLabel=n,r.defaultedTooltip=o,t.userOutput=new xu(s,e),t}function Mr(a,e){return a.hasOwnProperty(e)||(a[e]=[]),a[e]}function Su(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function wu(a){return!(a==="ordinal"||a==="time")}var tr=function(){function a(e){this.otherDims={},e!=null&&K(this,e)}return a}(),Cu=Jt(),Tu={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},ao=function(){function a(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=oo(this.source)))},a.prototype.getSourceDimensionIndex=function(e){return Xt(this._dimNameMap.get(e),-1)},a.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},a.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=ts(this.source),r=!so(e),i="",n=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,v=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===o)l=t?c.name:null,u=c.type,v=c.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(l=t?f.name:null,u=f.type)}n.push({property:l,type:u,ordinalMeta:v}),t&&l!=null&&(!c||!c.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=Tu[u]||"f",v&&(i+=v.uid),i+="$"}var h=this.source,d=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:n,hash:d}},a.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,n=this.dimensions[r];if(n&&n.storeDimIndex===t)n.isCalculationCoord||(i=n.name),r++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},a.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function io(a){return a instanceof ao}function no(a){for(var e=nt(),t=0;t<(a||[]).length;t++){var r=a[t],i=st(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function oo(a){var e=Cu(a);return e.dimNameMap||(e.dimNameMap=no(a.dimensionsDefine))}function so(a){return a>30}var xe=st,Lt=U,Iu=typeof Int32Array>"u"?Array:Int32Array,Du="e\0\0",ci=-1,Au=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Mu=["_approximateExtent"],fi,ze,be,Se,Lr,Ve,kr,Lu=function(){function a(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;io(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var n={},o=[],s={},l=!1,u={},v=0;v<r.length;v++){var c=r[v],f=X(c)?new tr({name:c}):c instanceof tr?c:new tr(c),h=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=h,f.coordDimIndex=0);var d=f.otherDims=f.otherDims||{};o.push(h),n[h]=f,u[h]!=null&&(l=!0),f.createInvertedIndices&&(s[h]=[]),d.itemName===0&&(this._nameDimIdx=v),d.itemId===0&&(this._idDimIdx=v),i&&(f.storeDimIndex=v)}if(this.dimensions=o,this._dimInfos=n,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var p=this._dimIdxToName=nt();A(o,function(g){p.set(n[g].storeDimIndex,g)})}}return a.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},a.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},a.prototype._recognizeDimIndex=function(e){if(ge(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},a.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},a.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},a.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},a.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(e,t,r){var i=this,n;if(e instanceof Ba&&(n=e),!n){var o=this.dimensions,s=kn(e)||es(e)?new rs(e,o.length):e;n=new Ba;var l=Lt(o,function(u){return{type:i._dimInfos[u].type,property:u}});n.initData(s,l,r)}this._store=n,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=bu(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},a.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),i=r.start,n=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<n;s++){var l=s-i;this._nameList[s]=t[l],o&&kr(this,s)}},a.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==as&&!e.fillStorage},a.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var n=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===ya;if(l&&!i.pure)for(var u=[],v=e;v<t;v++){var c=i.getItem(v,u);if(!this.hasItemOption&&is(c)&&(this.hasItemOption=!0),c){var f=c.name;n[v]==null&&f!=null&&(n[v]=Ir(f,null));var h=c.id;o[v]==null&&h!=null&&(o[v]=Ir(h,null))}}if(this._shouldMakeIdFromName())for(var v=e;v<t;v++)kr(this,v);fi(this)}},a.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},a.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},a.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},a.prototype.setCalculationInfo=function(e,t){xe(e)?K(this._calculationInfo,e):this._calculationInfo[e]=t},a.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=be(this,this._nameDimIdx,t)),r==null&&(r=""),r},a.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},a.prototype.getId=function(e){return ze(this,this.getRawIndex(e))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},a.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},a.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},a.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},a.prototype.getValues=function(e,t){var r=this,i=this._store;return Z(e)?i.getValues(Lt(e,function(n){return r._getStoreDimIndex(n)}),t):i.getValues(e)},a.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},a.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},a.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},a.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},a.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r[t];return i==null||isNaN(i)?ci:i},a.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},a.prototype.each=function(e,t,r){j(e)&&(r=t,t=e,e=[]);var i=r||this,n=Lt(Se(e),this._getStoreDimIndex,this);this._store.each(n,i?ct(t,i):t)},a.prototype.filterSelf=function(e,t,r){j(e)&&(r=t,t=e,e=[]);var i=r||this,n=Lt(Se(e),this._getStoreDimIndex,this);return this._store=this._store.filter(n,i?ct(t,i):t),this},a.prototype.selectRange=function(e){var t=this,r={},i=vr(e);return A(i,function(n){var o=t._getStoreDimIndex(n);r[o]=e[n]}),this._store=this._store.selectRange(r),this},a.prototype.mapArray=function(e,t,r){j(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},a.prototype.map=function(e,t,r,i){var n=r||i||this,o=Lt(Se(e),this._getStoreDimIndex,this),s=Ve(this);return s._store=this._store.map(o,n?ct(t,n):t),s},a.prototype.modify=function(e,t,r,i){var n=r||i||this,o=Lt(Se(e),this._getStoreDimIndex,this);this._store.modify(o,n?ct(t,n):t)},a.prototype.downSample=function(e,t,r,i){var n=Ve(this);return n._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),n},a.prototype.lttbDownSample=function(e,t){var r=Ve(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},a.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},a.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new Nt(r,t,t&&t.ecModel)},a.prototype.diff=function(e){var t=this;return new ea(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return ze(e,r)},function(r){return ze(t,r)})},a.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},a.prototype.setVisual=function(e,t){this._visual=this._visual||{},xe(e)?K(this._visual,e):this._visual[e]=t},a.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var n=i[t];return n==null&&(n=this.getVisual(t),Z(n)?n=n.slice():xe(n)&&(n=K({},n)),i[t]=n),n},a.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,xe(t)?K(i,t):i[t]=r},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(e,t){xe(e)?K(this._layout,e):this._layout[e]=t},a.prototype.getLayout=function(e){return this._layout[e]},a.prototype.getItemLayout=function(e){return this._itemLayouts[e]},a.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?K(this._itemLayouts[e]||{},t):t},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;ns(r,this.dataType,e,t),this._graphicEls[e]=t},a.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},a.prototype.eachItemGraphicEl=function(e,t){A(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},a.prototype.cloneShallow=function(e){return e||(e=new a(this._schema?this._schema:Lt(this.dimensions,this._getDimInfo,this),this.hostModel)),Lr(e,this),e._store=this._store,e},a.prototype.wrapMethod=function(e,t){var r=this[e];j(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(os(arguments)))})},a.internalField=function(){fi=function(e){var t=e._invertedIndicesMap;A(t,function(r,i){var n=e._dimInfos[i],o=n.ordinalMeta,s=e._store;if(o){r=t[i]=new Iu(o.categories.length);for(var l=0;l<r.length;l++)r[l]=ci;for(var l=0;l<s.count();l++)r[s.get(n.storeDimIndex,l)]=l}})},be=function(e,t,r){return Ir(e._getCategory(t,r),null)},ze=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=be(e,e._idDimIdx,t)),r==null&&(r=Du+t),r},Se=function(e){return Z(e)||(e=e!=null?[e]:[]),e},Ve=function(e){var t=new a(e._schema?e._schema:Lt(e.dimensions,e._getDimInfo,e),e.hostModel);return Lr(t,e),t},Lr=function(e,t){A(Au.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,A(Mu,function(r){e[r]=ve(t[r])}),e._calculationInfo=K({},t._calculationInfo)},kr=function(e,t){var r=e._nameList,i=e._idList,n=e._nameDimIdx,o=e._idDimIdx,s=r[t],l=i[t];if(s==null&&n!=null&&(r[t]=s=be(e,n,t)),l==null&&o!=null&&(i[t]=l=be(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,v=u[s]=(u[s]||0)+1;l=s,v>1&&(l+="__ec__"+v),i[t]=l}}}(),a}();function ku(a,e){kn(a)||(a=ss(a)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||a.dimensionsDefine||[],i=nt(),n=[],o=Ou(a,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&so(o),l=r===a.dimensionsDefine,u=l?oo(a):no(r),v=e.encodeDefine;!v&&e.encodeDefaulter&&(v=e.encodeDefaulter(a,o));for(var c=nt(v),f=new ls(o),h=0;h<f.length;h++)f[h]=-1;function d(C){var I=f[C];if(I<0){var D=r[C],L=st(D)?D:{name:D},M=new tr,E=L.name;E!=null&&u.get(E)!=null&&(M.name=M.displayName=E),L.type!=null&&(M.type=L.type),L.displayName!=null&&(M.displayName=L.displayName);var O=n.length;return f[C]=O,M.storeDimIndex=C,n.push(M),M}return n[I]}if(!s)for(var h=0;h<o;h++)d(h);c.each(function(C,I){var D=jt(C).slice();if(D.length===1&&!X(D[0])&&D[0]<0){c.set(I,!1);return}var L=c.set(I,[]);A(D,function(M,E){var O=X(M)?u.get(M):M;O!=null&&O<o&&(L[E]=O,g(d(O),I,E))})});var p=0;A(t,function(C){var I,D,L,M;if(X(C))I=C,M={};else{M=C,I=M.name;var E=M.ordinalMeta;M.ordinalMeta=null,M=K({},M),M.ordinalMeta=E,D=M.dimsDef,L=M.otherDims,M.name=M.coordDim=M.coordDimIndex=M.dimsDef=M.otherDims=null}var O=c.get(I);if(O!==!1){if(O=jt(O),!O.length)for(var G=0;G<(D&&D.length||1);G++){for(;p<o&&d(p).coordDim!=null;)p++;p<o&&O.push(p++)}A(O,function(z,R){var B=d(z);if(l&&M.type!=null&&(B.type=M.type),g(J(B,M),I,R),B.name==null&&D){var V=D[R];!st(V)&&(V={name:V}),B.name=B.displayName=V.name,B.defaultTooltip=V.defaultTooltip}L&&J(B.otherDims,L)})}});function g(C,I,D){Ln.get(I)!=null?C.otherDims[I]=D:(C.coordDim=I,C.coordDimIndex=D,i.set(I,!0))}var m=e.generateCoord,_=e.generateCoordCount,y=_!=null;_=m?_||1:0;var x=m||"value";function S(C){C.name==null&&(C.name=C.coordDim)}if(s)A(n,function(C){S(C)}),n.sort(function(C,I){return C.storeDimIndex-I.storeDimIndex});else for(var b=0;b<o;b++){var w=d(b),T=w.coordDim;T==null&&(w.coordDim=Eu(x,i,y),w.coordDimIndex=0,(!m||_<=0)&&(w.isExtraCoord=!0),_--),S(w),w.type==null&&(us(a,b)===vs.Must||w.isExtraCoord&&(w.otherDims.itemName!=null||w.otherDims.seriesName!=null))&&(w.type="ordinal")}return Pu(n),new ao({source:a,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function Pu(a){for(var e=nt(),t=0;t<a.length;t++){var r=a[t],i=r.name,n=e.get(i)||0;n>0&&(r.name=i+(n-1)),n++,e.set(i,n)}}function Ou(a,e,t,r){var i=Math.max(a.dimensionsDetectedCount||1,e.length,t.length,r||0);return A(e,function(n){var o;st(n)&&(o=n.dimsDef)&&(i=Math.max(i,o.length))}),i}function Eu(a,e,t){if(t||e.hasKey(a)){for(var r=0;e.hasKey(a+r);)r++;a+=r}return e.set(a,!0),a}var Ru=function(){function a(e){this.coordSysDims=[],this.axisMap=nt(),this.categoryAxisMap=nt(),this.coordSysName=e}return a}();function Nu(a){var e=a.get("coordinateSystem"),t=new Ru(e),r=Gu[e];if(r)return r(a,t,t.axisMap,t.categoryAxisMap),t}var Gu={cartesian2d:function(a,e,t,r){var i=a.getReferringComponents("xAxis",Gt).models[0],n=a.getReferringComponents("yAxis",Gt).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",n),te(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),te(n)&&(r.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(a,e,t,r){var i=a.getReferringComponents("singleAxis",Gt).models[0];e.coordSysDims=["single"],t.set("single",i),te(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(a,e,t,r){var i=a.getReferringComponents("polar",Gt).models[0],n=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),te(n)&&(r.set("radius",n),e.firstCategoryDimIndex=0),te(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(a,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(a,e,t,r){var i=a.ecModel,n=i.getComponent("parallel",a.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();A(n.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),v=o[l];t.set(v,u),te(u)&&(r.set(v,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function te(a){return a.get("type")==="category"}function Bu(a,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,n,o,s;Fu(e)?n=e:(o=e.schema,n=o.dimensions,s=e.store);var l=!!(a&&a.get("stack")),u,v,c,f;if(A(n,function(_,y){X(_)&&(n[y]=_={name:_}),l&&!_.isExtraCoord&&(!r&&!u&&_.ordinalMeta&&(u=_),!v&&_.type!=="ordinal"&&_.type!=="time"&&(!i||i===_.coordDim)&&(v=_))}),v&&!r&&!u&&(r=!0),v){c="__\0ecstackresult_"+a.id,f="__\0ecstackedover_"+a.id,u&&(u.createInvertedIndices=!0);var h=v.coordDim,d=v.type,p=0;A(n,function(_){_.coordDim===h&&p++});var g={name:c,coordDim:h,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},m={name:f,coordDim:f,coordDimIndex:p+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};o?(s&&(g.storeDimIndex=s.ensureCalculationDimension(f,d),m.storeDimIndex=s.ensureCalculationDimension(c,d)),o.appendCalculationDimension(g),o.appendCalculationDimension(m)):(n.push(g),n.push(m))}return{stackedDimension:v&&v.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:f,stackResultDimension:c}}function Fu(a){return!io(a.schema)}function Oe(a,e){return!!e&&e===a.getCalculationInfo("stackedDimension")}function Hu(a,e){return Oe(a,e)?a.getCalculationInfo("stackResultDimension"):e}function zu(a,e){var t=a.get("coordinateSystem"),r=hs.get(t),i;return e&&e.coordSysDims&&(i=U(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var l=s.get("type");o.type=Su(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function Vu(a,e,t){var r,i;return t&&A(a,function(n,o){var s=n.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=o),n.ordinalMeta=l.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(a[r].otherDims.itemName=0),r}function Wu(a,e,t){t=t||{};var r=e.getSourceManager(),i,n=!1;i=r.getSource(),n=i.sourceFormat===ya;var o=Nu(e),s=zu(e,o),l=t.useEncodeDefaulter,u=j(l)?l:l?ot(cs,s,e):null,v={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},c=ku(i,v),f=Vu(c.dimensions,t.createInvertedIndices,o),h=n?null:r.getSharedDataStore(c),d=Bu(e,{schema:c,store:h}),p=new Lu(c,e);p.setCalculationInfo(d);var g=f!=null&&$u(i)?function(m,_,y,x){return x===f?y:this.defaultDimValueGetter(m,_,y,x)}:null;return p.hasItemOption=!1,p.initData(n?i:h,null,g),p}function $u(a){if(a.sourceFormat===ya){var e=Zu(a.data||[]);return!Z(fs(e))}}function Zu(a){for(var e=0;e<a.length&&a[e]==null;)e++;return a[e]}var Ct=function(){function a(e){this._setting=e||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(e){return this._setting[e]},a.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},a.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},a.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(e){this._isBlank=e},a}();ds(Ct);var Uu=0,ra=function(){function a(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Uu}return a.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&U(r,Xu);return new a({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},a.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},a.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!X(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},a.prototype._getOrCreateMap=function(){return this._map||(this._map=nt(this.categories))},a}();function Xu(a){return st(a)&&a.value!=null?a.value:a+""}function aa(a){return a.type==="interval"||a.type==="log"}function Yu(a,e,t,r){var i={},n=a[1]-a[0],o=i.interval=Pn(n/e);t!=null&&o<t&&(o=i.interval=t),r!=null&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=lo(o),l=i.niceTickExtent=[it(Math.ceil(a[0]/o)*o,s),it(Math.floor(a[1]/o)*o,s)];return ju(l,a),i}function Pr(a){var e=Math.pow(10,ps(a)),t=a/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,it(t*e)}function lo(a){return _a(a)+2}function hi(a,e,t){a[e]=Math.max(Math.min(a[e],t[1]),t[0])}function ju(a,e){!isFinite(a[0])&&(a[0]=e[0]),!isFinite(a[1])&&(a[1]=e[1]),hi(a,0,e),hi(a,1,e),a[0]>a[1]&&(a[0]=a[1])}function dr(a,e){return a>=e[0]&&a<=e[1]}function pr(a,e){return e[1]===e[0]?.5:(a-e[0])/(e[1]-e[0])}function gr(a,e){return a*(e[1]-e[0])+e[0]}var Ta=function(a){W(e,a);function e(t){var r=a.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new ra({})),Z(i)&&(i=new ra({categories:U(i,function(n){return st(n)?n.value:n})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:X(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),dr(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),pr(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(gr(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,n[u]=o}for(var v=0;o<s;++o){for(;n[v]!=null;)v++;i.push(v),n[v]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ct);Ct.registerClass(Ta);var Wt=it,me=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return dr(t,this._extent)},e.prototype.normalize=function(t){return pr(t,this._extent)},e.prototype.scale=function(t){return gr(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=lo(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;i[0]<n[0]&&(t?s.push({value:Wt(n[0]-r,o)}):s.push({value:i[0]}));for(var u=n[0];u<=n[1]&&(s.push({value:u}),u=Wt(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var v=s.length?s[s.length-1].value:n[1];return i[1]>v&&(t?s.push({value:Wt(v+r,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],n=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,v=[],c=s.value-l.value,f=c/t;u<t-1;){var h=Wt(l.value+(u+1)*f);h>n[0]&&h<n[1]&&v.push(h),u++}i.push(v)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=_a(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var n=Wt(t.value,i,!0);return gs(n)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var s=Yu(n,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var n=r[1]-r[0];isFinite(n)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(r[0]=Wt(Math.floor(r[0]/o)*o)),t.fixMax||(r[1]=Wt(Math.ceil(r[1]/o)*o))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(Ct);Ct.registerClass(me);var uo=typeof Float32Array<"u",qu=uo?Float32Array:Array;function ie(a){return Z(a)?uo?new Float32Array(a):a:new qu(a)}var Ku="__ec_stack_";function vo(a){return a.get("stack")||Ku+a.seriesIndex}function co(a){return a.dim+a.index}function Ju(a,e){var t=[];return e.eachSeriesByType(a,function(r){av(r)&&t.push(r)}),t}function Qu(a){var e={};A(a,function(l){var u=l.coordinateSystem,v=u.getBaseAxis();if(!(v.type!=="time"&&v.type!=="value"))for(var c=l.getData(),f=v.dim+"_"+v.index,h=c.getDimensionIndex(c.mapDimension(v.dim)),d=c.getStore(),p=0,g=d.count();p<g;++p){var m=d.get(h,p);e[f]?e[f].push(m):e[f]=[m]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var n=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(n=n===null?s:Math.min(n,s))}t[r]=n}}return t}function tv(a){var e=Qu(a),t=[];return A(a,function(r){var i=r.coordinateSystem,n=i.getBaseAxis(),o=n.getExtent(),s;if(n.type==="category")s=n.getBandWidth();else if(n.type==="value"||n.type==="time"){var l=n.dim+"_"+n.index,u=e[l],v=Math.abs(o[1]-o[0]),c=n.scale.getExtent(),f=Math.abs(c[1]-c[0]);s=u?v/f*u:v}else{var h=r.getData();s=Math.abs(o[1]-o[0])/h.count()}var d=qt(r.get("barWidth"),s),p=qt(r.get("barMaxWidth"),s),g=qt(r.get("barMinWidth")||(iv(r)?.5:1),s),m=r.get("barGap"),_=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:d,barMaxWidth:p,barMinWidth:g,barGap:m,barCategoryGap:_,axisKey:co(n),stackId:vo(r)})}),ev(t)}function ev(a){var e={};A(a,function(r,i){var n=r.axisKey,o=r.bandWidth,s=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[n]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var v=r.barWidth;v&&!l[u].width&&(l[u].width=v,v=Math.min(s.remainedWidth,v),s.remainedWidth-=v);var c=r.barMaxWidth;c&&(l[u].maxWidth=c);var f=r.barMinWidth;f&&(l[u].minWidth=f);var h=r.barGap;h!=null&&(s.gap=h);var d=r.barCategoryGap;d!=null&&(s.categoryGap=d)});var t={};return A(e,function(r,i){t[i]={};var n=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=vr(n).length;s=Math.max(35-l*4,15)+"%"}var u=qt(s,o),v=qt(r.gap,1),c=r.remainedWidth,f=r.autoWidthCount,h=(c-u)/(f+(f-1)*v);h=Math.max(h,0),A(n,function(m){var _=m.maxWidth,y=m.minWidth;if(m.width){var x=m.width;_&&(x=Math.min(x,_)),y&&(x=Math.max(x,y)),m.width=x,c-=x+v*x,f--}else{var x=h;_&&_<x&&(x=Math.min(_,c)),y&&y>x&&(x=y),x!==h&&(m.width=x,c-=x+v*x,f--)}}),h=(c-u)/(f+(f-1)*v),h=Math.max(h,0);var d=0,p;A(n,function(m,_){m.width||(m.width=h),p=m,d+=m.width*(1+v)}),p&&(d-=p.width*v);var g=-d/2;A(n,function(m,_){t[i][_]=t[i][_]||{bandWidth:o,offset:g,width:m.width},g+=m.width*(1+v)})}),t}function rv(a,e,t){if(a&&e){var r=a[co(e)];return r!=null&&t!=null?r[vo(t)]:r}}function av(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function iv(a){return a.pipelineContext&&a.pipelineContext.large}var nv=function(a,e,t,r){for(;t<r;){var i=t+r>>>1;a[i][1]<e?t=i+1:r=i}return t},fo=function(a){W(e,a);function e(t){var r=a.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return On(t.value,Fa[ms(Te(this._minLevelUnit))]||Fa.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return ys(t,r,i,o,n)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var n=this.getSetting("useUTC"),o=fv(this._minLevelUnit,this._approxInterval,n,r);return i=i.concat(o),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=gt,r[1]+=gt),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-gt}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var n=this._extent,o=n[1]-n[0];this._approxInterval=o/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=We.length,l=Math.min(nv(We,this._approxInterval,0,s),s-1);this._interval=We[l][1],this._minLevelUnit=We[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return ge(t)?t:+Ur(t)},e.prototype.contain=function(t){return dr(this.parse(t),this._extent)},e.prototype.normalize=function(t){return pr(this.parse(t),this._extent)},e.prototype.scale=function(t){return gr(t,this._extent)},e.type="time",e}(me),We=[["second",En],["minute",Rn],["hour",Qe],["quarter-day",Qe*6],["half-day",Qe*12],["day",gt*1.2],["half-week",gt*3.5],["week",gt*7],["month",gt*31],["quarter",gt*95],["half-year",Ha/2],["year",Ha]];function ov(a,e,t,r){var i=Ur(e),n=Ur(t),o=function(d){return za(i,d,r)===za(n,d,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},v=function(){return u()&&o("hour")},c=function(){return v()&&o("minute")},f=function(){return c()&&o("second")},h=function(){return f()&&o("millisecond")};switch(a){case"year":return s();case"month":return l();case"day":return u();case"hour":return v();case"minute":return c();case"second":return f();case"millisecond":return h()}}function sv(a,e){return a/=gt,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function lv(a){var e=30*gt;return a/=e,a>6?6:a>3?3:a>2?2:1}function uv(a){return a/=Qe,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function di(a,e){return a/=e?Rn:En,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function vv(a){return Pn(a)}function cv(a,e,t){var r=new Date(a);switch(Te(e)){case"year":case"month":r[zn(t)](0);case"day":r[Hn(t)](1);case"hour":r[Fn(t)](0);case"minute":r[Bn(t)](0);case"second":r[Nn(t)](0),r[Gn(t)](0)}return r.getTime()}function fv(a,e,t,r){var i=1e4,n=xs,o=0;function s(I,D,L,M,E,O,G){for(var z=new Date(D),R=D,B=z[M]();R<L&&R<=r[1];)G.push({value:R}),B+=I,z[E](B),R=z.getTime();G.push({value:R,notAdd:!0})}function l(I,D,L){var M=[],E=!D.length;if(!ov(Te(I),r[0],r[1],t)){E&&(D=[{value:cv(new Date(r[0]),I,t)},{value:r[1]}]);for(var O=0;O<D.length-1;O++){var G=D[O].value,z=D[O+1].value;if(G!==z){var R=void 0,B=void 0,V=void 0,tt=!1;switch(I){case"year":R=Math.max(1,Math.round(e/gt/365)),B=Ds(t),V=As(t);break;case"half-year":case"quarter":case"month":R=lv(e),B=Is(t),V=zn(t);break;case"week":case"half-week":case"day":R=sv(e),B=Ts(t),V=Hn(t),tt=!0;break;case"half-day":case"quarter-day":case"hour":R=uv(e),B=Cs(t),V=Fn(t);break;case"minute":R=di(e,!0),B=ws(t),V=Bn(t);break;case"second":R=di(e,!1),B=Ss(t),V=Nn(t);break;case"millisecond":R=vv(e),B=bs(t),V=Gn(t);break}s(R,G,z,B,V,tt,M),I==="year"&&L.length>1&&O===0&&L.unshift({value:L[0].value-R})}}for(var O=0;O<M.length;O++)L.push(M[O]);return M}}for(var u=[],v=[],c=0,f=0,h=0;h<n.length&&o++<i;++h){var d=Te(n[h]);if(_s(n[h])){l(n[h],u[u.length-1]||[],v);var p=n[h+1]?Te(n[h+1]):null;if(d!==p){if(v.length){f=c,v.sort(function(I,D){return I.value-D.value});for(var g=[],m=0;m<v.length;++m){var _=v[m].value;(m===0||v[m-1].value!==_)&&(g.push(v[m]),_>=r[0]&&_<=r[1]&&c++)}var y=(r[1]-r[0])/e;if(c>y*1.5&&f>y/1.5||(u.push(g),c>y||a===n[h]))break}v=[]}}}for(var x=ce(U(u,function(I){return ce(I,function(D){return D.value>=r[0]&&D.value<=r[1]&&!D.notAdd})}),function(I){return I.length>0}),S=[],b=x.length-1,h=0;h<x.length;++h)for(var w=x[h],T=0;T<w.length;++T)S.push({value:w[T].value,level:b-h});S.sort(function(I,D){return I.value-D.value});for(var C=[],h=0;h<S.length;++h)(h===0||S[h].value!==S[h-1].value)&&C.push(S[h]);return C}Ct.registerClass(fo);var pi=Ct.prototype,Ae=me.prototype,hv=it,dv=Math.floor,pv=Math.ceil,$e=Math.pow,dt=Math.log,Ia=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new me,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,n=r.getExtent(),o=Ae.getTicks.call(this,t);return U(o,function(s){var l=s.value,u=it($e(this.base,l));return u=l===i[0]&&this._fixMin?Ze(u,n[0]):u,u=l===i[1]&&this._fixMax?Ze(u,n[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,r){var i=dt(this.base);t=dt(Math.max(0,t))/i,r=dt(Math.max(0,r))/i,Ae.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=pi.getExtent.call(this);r[0]=$e(t,r[0]),r[1]=$e(t,r[1]);var i=this._originalScale,n=i.getExtent();return this._fixMin&&(r[0]=Ze(r[0],n[0])),this._fixMax&&(r[1]=Ze(r[1],n[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=dt(t[0])/dt(r),t[1]=dt(t[1])/dt(r),pi.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var n=Ms(i),o=t/i*n;for(o<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var s=[it(pv(r[0]/n)*n),it(dv(r[1]/n)*n)];this._interval=n,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){Ae.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=dt(t)/dt(this.base),dr(t,this._extent)},e.prototype.normalize=function(t){return t=dt(t)/dt(this.base),pr(t,this._extent)},e.prototype.scale=function(t){return t=gr(t,this._extent),$e(this.base,t)},e.type="log",e}(Ct),ho=Ia.prototype;ho.getMinorTicks=Ae.getMinorTicks;ho.getLabel=Ae.getLabel;function Ze(a,e){return hv(a,_a(e))}Ct.registerClass(Ia);var gv=function(){function a(e,t,r){this._prepareParams(e,t,r)}return a.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var n=t.get("min",!0);n==null&&(n=t.get("startValue",!0));var o=this._modelMinRaw=n;j(o)?this._modelMinNum=Ue(e,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=Ue(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(j(s)?this._modelMaxNum=Ue(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=Ue(e,s)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=Z(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Va(u[0],1),Va(u[1],1)]}},a.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,n=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,v=l!=null;s==null&&(s=e?i?0:NaN:t-n[0]*o),l==null&&(l=e?i?i-1:NaN:r+n[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var c=Xr(s)||Xr(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!v&&(l=0));var f=this._determinedMin,h=this._determinedMax;return f!=null&&(s=f,u=!0),h!=null&&(l=h,v=!0),{min:s,max:l,minFixed:u,maxFixed:v,isBlank:c}},a.prototype.modifyDataMinMax=function(e,t){this[yv[e]]=t},a.prototype.setDeterminedMinMax=function(e,t){var r=mv[e];this[r]=t},a.prototype.freeze=function(){this.frozen=!0},a}(),mv={min:"_determinedMin",max:"_determinedMax"},yv={min:"_dataMin",max:"_dataMax"};function _v(a,e,t){var r=a.rawExtentInfo;return r||(r=new gv(a,e,t),a.rawExtentInfo=r,r)}function Ue(a,e){return e==null?null:Xr(e)?NaN:a.parse(e)}function po(a,e){var t=a.type,r=_v(a,e,a.getExtent()).calculate();a.setBlank(r.isBlank);var i=r.min,n=r.max,o=e.ecModel;if(o&&t==="time"){var s=Ju("bar",o),l=!1;if(A(s,function(c){l=l||c.getBaseAxis()===e.axis}),l){var u=tv(s),v=xv(i,n,e,u);i=v.min,n=v.max}}return{extent:[i,n],fixMin:r.minFixed,fixMax:r.maxFixed}}function xv(a,e,t,r){var i=t.axis.getExtent(),n=i[1]-i[0],o=rv(r,t.axis);if(o===void 0)return{min:a,max:e};var s=1/0;A(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;A(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,v=e-a,c=1-(s+l)/n,f=v/c-v;return e+=f*(l/u),a-=f*(s/u),{min:a,max:e}}function gi(a,e){var t=e,r=po(a,t),i=r.extent,n=t.get("splitNumber");a instanceof Ia&&(a.base=t.get("logBase"));var o=a.type,s=t.get("interval"),l=o==="interval"||o==="time";a.setExtent(i[0],i[1]),a.calcNiceExtent({splitNumber:n,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&a.setInterval&&a.setInterval(s)}function bv(a,e){if(e=e||a.get("type"),e)switch(e){case"category":return new Ta({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new fo({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Ct.getClass(e)||me)}}function Sv(a){var e=a.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function ye(a){var e=a.getLabelModel().get("formatter"),t=a.type==="category"?a.scale.getExtent()[0]:null;return a.scale.type==="time"?function(r){return function(i,n){return a.scale.getFormattedLabel(i,n,r)}}(e):X(e)?function(r){return function(i){var n=a.scale.getLabel(i),o=r.replace("{value}",n??"");return o}}(e):j(e)?function(r){return function(i,n){return t!=null&&(n=i.value-t),r(Da(a,i),n,i.level!=null?{level:i.level}:null)}}(e):function(r){return a.scale.getLabel(r)}}function Da(a,e){return a.type==="category"?a.scale.getLabel(e):e.value}function wv(a){var e=a.model,t=a.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,n=t.getExtent();t instanceof Ta?i=t.count():(r=t.getTicks(),i=r.length);var o=a.getLabelModel(),s=ye(a),l,u=1;i>40&&(u=Math.ceil(i/40));for(var v=0;v<i;v+=u){var c=r?r[v]:{value:n[0]+v},f=s(c,v),h=o.getTextRect(f),d=Cv(h,o.get("rotate")||0);l?l.union(d):l=d}return l}}function Cv(a,e){var t=e*Math.PI/180,r=a.width,i=a.height,n=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),o=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),s=new Tt(a.x,a.y,n,o);return s}function Aa(a){var e=a.get("interval");return e??"auto"}function go(a){return a.type==="category"&&Aa(a.getLabelModel())===0}function Tv(a,e){var t={};return A(a.mapDimensionsAll(e),function(r){t[Hu(a,r)]=!0}),vr(t)}var Iv=function(){function a(){}return a.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},a.prototype.getCoordSysModel=function(){},a}(),mi=[],Dv={registerPreprocessor:Ls,registerProcessor:ks,registerPostInit:Ps,registerPostUpdate:Os,registerUpdateLifecycle:Es,registerAction:Rs,registerCoordinateSystem:Ns,registerLayout:Gs,registerVisual:Bs,registerTransform:Fs,registerLoading:Hs,registerMap:zs,registerImpl:Vs,PRIORITY:Ws,ComponentModel:Dt,ComponentView:zt,SeriesModel:Yr,ChartView:Ie,registerComponentModel:function(a){Dt.registerClass(a)},registerComponentView:function(a){zt.registerClass(a)},registerSeriesModel:function(a){Yr.registerClass(a)},registerChartView:function(a){Ie.registerClass(a)},registerSubTypeDefaulter:function(a,e){Dt.registerSubTypeDefaulter(a,e)},registerPainter:function(a,e){$s(a,e)}};function yt(a){if(Z(a)){A(a,function(e){yt(e)});return}Ft(mi,a)>=0||(mi.push(a),j(a)&&(a={install:a}),a.install(Dv))}var Ee=Jt();function mo(a,e){var t=U(e,function(r){return a.scale.parse(r)});return a.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Av(a){var e=a.getLabelModel().get("customValues");if(e){var t=ye(a);return{labels:mo(a,e).map(function(r){var i={value:r};return{formattedLabel:t(i),rawLabel:a.scale.getLabel(i),tickValue:r}})}}return a.type==="category"?Lv(a):Pv(a)}function Mv(a,e){var t=a.getTickModel().get("customValues");return t?{ticks:mo(a,t)}:a.type==="category"?kv(a,e):{ticks:U(a.scale.getTicks(),function(r){return r.value})}}function Lv(a){var e=a.getLabelModel(),t=yo(a,e);return!e.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function yo(a,e){var t=_o(a,"labels"),r=Aa(e),i=xo(t,r);if(i)return i;var n,o;return j(r)?n=wo(a,r):(o=r==="auto"?Ov(a):r,n=So(a,o)),bo(t,r,{labels:n,labelCategoryInterval:o})}function kv(a,e){var t=_o(a,"ticks"),r=Aa(e),i=xo(t,r);if(i)return i;var n,o;if((!e.get("show")||a.scale.isBlank())&&(n=[]),j(r))n=wo(a,r,!0);else if(r==="auto"){var s=yo(a,a.getLabelModel());o=s.labelCategoryInterval,n=U(s.labels,function(l){return l.tickValue})}else o=r,n=So(a,o,!0);return bo(t,r,{ticks:n,tickCategoryInterval:o})}function Pv(a){var e=a.scale.getTicks(),t=ye(a);return{labels:U(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:a.scale.getLabel(r),tickValue:r.value}})}}function _o(a,e){return Ee(a)[e]||(Ee(a)[e]=[])}function xo(a,e){for(var t=0;t<a.length;t++)if(a[t].key===e)return a[t].value}function bo(a,e,t){return a.push({key:e,value:t}),t}function Ov(a){var e=Ee(a).autoInterval;return e??(Ee(a).autoInterval=a.calculateCategoryInterval())}function Ev(a){var e=Rv(a),t=ye(a),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=a.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=a.dataToCoord(l+1)-a.dataToCoord(l),v=Math.abs(u*Math.cos(r)),c=Math.abs(u*Math.sin(r)),f=0,h=0;l<=n[1];l+=s){var d=0,p=0,g=Vn(t({value:l}),e.font,"center","top");d=g.width*1.3,p=g.height*1.3,f=Math.max(f,d,7),h=Math.max(h,p,7)}var m=f/v,_=h/c;isNaN(m)&&(m=1/0),isNaN(_)&&(_=1/0);var y=Math.max(0,Math.floor(Math.min(m,_))),x=Ee(a.model),S=a.getExtent(),b=x.lastAutoInterval,w=x.lastTickCount;return b!=null&&w!=null&&Math.abs(b-y)<=1&&Math.abs(w-o)<=1&&b>y&&x.axisExtent0===S[0]&&x.axisExtent1===S[1]?y=b:(x.lastTickCount=o,x.lastAutoInterval=y,x.axisExtent0=S[0],x.axisExtent1=S[1]),y}function Rv(a){var e=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function So(a,e,t){var r=ye(a),i=a.scale,n=i.getExtent(),o=a.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=n[0],v=i.count();u!==0&&l>1&&v/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=go(a),f=o.get("showMinLabel")||c,h=o.get("showMaxLabel")||c;f&&u!==n[0]&&p(n[0]);for(var d=u;d<=n[1];d+=l)p(d);h&&d-l!==n[1]&&p(n[1]);function p(g){var m={value:g};s.push(t?g:{formattedLabel:r(m),rawLabel:i.getLabel(m),tickValue:g})}return s}function wo(a,e,t){var r=a.scale,i=ye(a),n=[];return A(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&n.push(t?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),n}var yi=[0,1],Nv=function(){function a(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return a.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},a.prototype.containData=function(e){return this.scale.contain(e)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(e){return Zs(e||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},a.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),_i(r,i.count())),Wa(e,yi,r,t)},a.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),_i(r,i.count()));var n=Wa(e,r,yi,t);return this.scale.scale(n)},a.prototype.pointToData=function(e,t){},a.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=Mv(this,t),i=r.ticks,n=U(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return Gv(this,n,o,e.clamp),n},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=U(r,function(n){return U(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},a.prototype.getViewLabels=function(){return Av(this).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},a.prototype.calculateCategoryInterval=function(){return Ev(this)},a}();function _i(a,e){var t=a[1]-a[0],r=e,i=t/r/2;a[0]+=i,a[1]-=i}function Gv(a,e,t,r){var i=e.length;if(!a.onBand||t||!i)return;var n=a.getExtent(),o,s;if(i===1)e[0].coord=n[0],o=e[1]={coord:n[1]};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;A(e,function(h){h.coord-=u/2});var v=a.scale.getExtent();s=1+v[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*s},e.push(o)}var c=n[0]>n[1];f(e[0].coord,n[0])&&(r?e[0].coord=n[0]:e.shift()),r&&f(n[0],e[0].coord)&&e.unshift({coord:n[0]}),f(n[1],o.coord)&&(r?o.coord=n[1]:e.pop()),r&&f(o.coord,n[1])&&e.push({coord:n[1]});function f(h,d){return h=it(h),d=it(d),c?h>d:h<d}}function Bv(a){for(var e=[],t=0;t<a.length;t++){var r=a[t];if(!r.defaultAttr.ignore){var i=r.label,n=i.getComputedTransform(),o=i.getBoundingRect(),s=!n||n[1]<1e-5&&n[2]<1e-5,l=i.style.margin||0,u=o.clone();u.applyTransform(n),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var v=s?new jr(o,n):null;e.push({label:i,labelLine:r.labelLine,rect:u,localRect:o,obb:v,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:n})}}return e}function Fv(a){var e=[];a.sort(function(p,g){return g.priority-p.priority});var t=new Tt(0,0,0,0);function r(p){if(!p.ignore){var g=p.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}p.ignore=!0}for(var i=0;i<a.length;i++){var n=a[i],o=n.axisAligned,s=n.localRect,l=n.transform,u=n.label,v=n.labelLine;t.copy(n.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var c=n.obb,f=!1,h=0;h<e.length;h++){var d=e[h];if(t.intersect(d.rect)){if(o&&d.axisAligned){f=!0;break}if(d.obb||(d.obb=new jr(d.localRect,d.transform)),c||(c=new jr(s,l)),c.intersect(d.obb)){f=!0;break}}}f?(r(u),v&&r(v)):(u.attr("ignore",n.defaultAttr.ignore),v&&v.attr("ignore",n.defaultAttr.labelGuideIgnore),e.push(n))}}var Hv=function(a){W(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Dt),ia=function(a){W(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Gt).models[0]},e.type="cartesian2dAxis",e}(Dt);Us(ia,Iv);var Co={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},zv=ht({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Co),Ma=ht({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Co),Vv=ht({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ma),Wv=J({logBase:10},Ma);const $v={category:zv,value:Ma,time:Vv,log:Wv};var Zv={value:1,category:1,time:1,log:1};function xi(a,e,t,r){A(Zv,function(i,n){var o=ht(ht({},$v[n],!0),r,!0),s=function(l){W(u,l);function u(){var v=l!==null&&l.apply(this,arguments)||this;return v.type=e+"Axis."+n,v}return u.prototype.mergeDefaultAndTheme=function(v,c){var f=Xs(this),h=f?Wn(v):{},d=c.getTheme();ht(v,d.get(n+"Axis")),ht(v,this.getDefaultOption()),v.type=bi(v),f&&$n(v,h,f)},u.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=ra.createByAxisModel(this))},u.prototype.getCategories=function(v){var c=this.option;if(c.type==="category")return v?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+n,u.defaultOption=o,u}(t);a.registerComponentModel(s)}),a.registerSubTypeDefaulter(e+"Axis",bi)}function bi(a){return a.type||(a.data?"category":"value")}var Uv=function(){function a(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return a.prototype.getAxis=function(e){return this._axes[e]},a.prototype.getAxes=function(){return U(this._dimList,function(e){return this._axes[e]},this)},a.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ce(this.getAxes(),function(t){return t.scale.type===e})},a.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},a}(),na=["x","y"];function Si(a){return a.type==="interval"||a.type==="time"}var Xv=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=na,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!Si(t)||!Si(r))){var i=t.getExtent(),n=r.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),l=i[1]-i[0],u=n[1]-n[0];if(!(!l||!u)){var v=(s[0]-o[0])/l,c=(s[1]-o[1])/u,f=o[0]-i[0]*v,h=o[1]-n[0]*c,d=this._transform=[v,0,0,c,f,h];this._invTransform=Ys([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),n=this.dataToPoint(r),o=this.getArea(),s=new Tt(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return fe(i,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),l=i.parse(t[0]),u=n.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return fe(i,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),r),i[1]=o.coordToData(o.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(r[0],r[1])-t,o=Math.min(i[0],i[1])-t,s=Math.max(r[0],r[1])-n+t,l=Math.max(i[0],i[1])-o+t;return new Tt(n,o,s,l)},e}(Uv),Yv=function(a){W(e,a);function e(t,r,i,n,o){var s=a.call(this,t,r,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Nv);function oa(a,e,t){t=t||{};var r=a.coordinateSystem,i=e.axis,n={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,v=r.getRect(),c=[v.x,v.x+v.width,v.y,v.y+v.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,d=u==="x"?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[f.onZero]=Math.max(Math.min(p,d[1]),d[0])}n.position=[u==="y"?d[f[l]]:c[0],u==="x"?d[f[l]]:c[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=g[s],n.labelOffset=o?d[f[s]]-d[f.onZero]:0,e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),Le(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var m=e.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-m:m,n.z2=1,n}function wi(a){return a.get("coordinateSystem")==="cartesian2d"}function Ci(a){var e={xAxisModel:null,yAxisModel:null};return A(e,function(t,r){var i=r.replace(/Model$/,""),n=a.getReferringComponents(i,Gt).models[0];e[r]=n}),e}var Or=Math.log;function jv(a,e,t){var r=me.prototype,i=r.getTicks.call(t),n=r.getTicks.call(t,!0),o=i.length-1,s=r.getInterval.call(t),l=po(a,e),u=l.extent,v=l.fixMin,c=l.fixMax;if(a.type==="log"){var f=Or(a.base);u=[Or(u[0])/f,Or(u[1])/f]}a.setExtent(u[0],u[1]),a.calcNiceExtent({splitNumber:o,fixMin:v,fixMax:c});var h=r.getExtent.call(a);v&&(u[0]=h[0]),c&&(u[1]=h[1]);var d=r.getInterval.call(a),p=u[0],g=u[1];if(v&&c)d=(g-p)/o;else if(v)for(g=u[0]+d*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)d=Pr(d),g=u[0]+d*o;else if(c)for(p=u[1]-d*o;p>u[0]&&isFinite(p)&&isFinite(u[0]);)d=Pr(d),p=u[1]-d*o;else{var m=a.getTicks().length-1;m>o&&(d=Pr(d));var _=d*o;g=Math.ceil(u[1]/d)*d,p=it(g-_),p<0&&u[0]>=0?(p=0,g=it(_)):g>0&&u[1]<=0&&(g=0,p=-it(_))}var y=(i[0].value-n[0].value)/s,x=(i[o].value-n[o].value)/s;r.setExtent.call(a,p+d*y,g+d*x),r.setInterval.call(a,d),(y||x)&&r.setNiceExtent.call(a,p+d,g-d)}var qv=function(){function a(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=na,this._initCartesian(e,t,r),this.model=e}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=vr(o),u=l.length;if(u){for(var v=[],c=u-1;c>=0;c--){var f=+l[c],h=o[f],d=h.model,p=h.scale;aa(p)&&d.get("alignTicks")&&d.get("interval")==null?v.push(h):(gi(p,d),aa(p)&&(s=h))}v.length&&(s||(s=v.pop(),gi(s.scale,s.model)),A(v,function(g){jv(g.scale,g.model,s.scale)}))}}i(r.x),i(r.y);var n={};A(r.x,function(o){Ti(r,"y",o,n)}),A(r.y,function(o){Ti(r,"x",o,n)}),this.resize(this.model,t)},a.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),n=!r&&e.get("containLabel"),o=ke(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(A(s,function(u){if(!u.model.get(["axisLabel","inside"])){var v=wv(u);if(v){var c=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[c]-=v[c]+f,u.position==="top"?o.y+=v.height+f:u.position==="left"&&(o.x+=v.width+f)}}}),l()),A(this._coordsList,function(u){u.calcAffineTransform()});function l(){A(s,function(u){var v=u.isHorizontal(),c=v?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(c[f],c[1-f]),Kv(u,v?o.x:o.y)})}},a.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}st(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===e||n[i].getAxis("y").index===t)return n[i]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},a.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},a.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",Gt).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",Gt).models[0],n=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,Ft(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},a.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},a.prototype._initCartesian=function(e,t,r){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,A(s.x,function(v,c){A(s.y,function(f,h){var d="x"+c+"y"+h,p=new Xv(d);p.master=i,p.model=e,i._coordsMap[d]=p,i._coordsList.push(p),p.addAxis(v),p.addAxis(f)})});function u(v){return function(c,f){if(Er(c,e)){var h=c.get("position");v==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var d=new Yv(v,bv(c),[0,0],c.get("type"),h),p=d.type==="category";d.onBand=p&&c.get("boundaryGap"),d.inverse=c.get("inverse"),c.axis=d,d.model=c,d.grid=n,d.index=f,n._axesList.push(d),s[v][f]=d,l[v]++}}}},a.prototype._updateScale=function(e,t){A(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),e.eachSeries(function(i){if(wi(i)){var n=Ci(i),o=n.xAxisModel,s=n.yAxisModel;if(!Er(o,t)||!Er(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),v=l.getAxis("x"),c=l.getAxis("y");r(u,v),r(u,c)}},this);function r(i,n){A(Tv(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},a.prototype.getTooltipAxes=function(e){var t=[],r=[];return A(this.getCartesians(),function(i){var n=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(n);Ft(t,n)<0&&t.push(n),Ft(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},a.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,n){var o=new a(i,e,t);o.name="grid_"+n,o.resize(i,t,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){if(wi(i)){var n=Ci(i),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},a.dimensions=na,a}();function Er(a,e){return a.getCoordSysModel()===e}function Ti(a,e,t,r){t.getAxesOnZeroOf=function(){return n?[n]:[]};var i=a[e],n,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Ii(i[l])&&(n=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Ii(i[u])&&!r[v(i[u])]){n=i[u];break}n&&(r[v(n)]=!0);function v(c){return c.dim+"_"+c.index}}function Ii(a){return a&&a.type!=="category"&&a.type!=="time"&&Sv(a)}function Kv(a,e){var t=a.getExtent(),r=t[0]+t[1];a.toGlobalCoord=a.dim==="x"?function(i){return i+e}:function(i){return r-i+e},a.toLocalCoord=a.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}var Bt=Math.PI,Ht=function(){function a(e,t){this.group=new St,this.opt=t,this.axisModel=e,J(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new St({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return a.prototype.hasBuilder=function(e){return!!Di[e]},a.prototype.add=function(e){Di[e](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(e,t,r){var i=Yn(t-e),n,o;return ir(i)?(o=r>0?"top":"bottom",n="center"):ir(i-Bt)?(o=r>0?"bottom":"top",n="center"):(o="middle",i>0&&i<Bt?n=r>0?"right":"left":n=r>0?"left":"right"),{rotation:i,textAlign:n,textVerticalAlign:o}},a.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},a.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},a}(),Di={axisLine:function(a,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&a.handleAutoShown&&(i=a.handleAutoShown("axisLine")),!!i){var n=e.axis.getExtent(),o=r.transform,s=[n[0],0],l=[n[1],0],u=s[0]>l[0];o&&(fe(s,s,o),fe(l,l,o));var v=K({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new rr({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:v,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});ar(c.shape,c.style.lineWidth),c.anid="line",t.add(c);var f=e.get(["axisLine","symbol"]);if(f!=null){var h=e.get(["axisLine","symbolSize"]);X(f)&&(f=[f,f]),(X(h)||ge(h))&&(h=[h,h]);var d=Zn(e.get(["axisLine","symbolOffset"])||0,h),p=h[0],g=h[1];A([{rotate:a.rotation+Math.PI/2,offset:d[0],r:0},{rotate:a.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,_){if(f[_]!=="none"&&f[_]!=null){var y=Pe(f[_],-p/2,-g/2,p,g,v.stroke,!0),x=m.r+m.offset,S=u?l:s;y.attr({rotation:m.rotate,x:S[0]+x*Math.cos(a.rotation),y:S[1]-x*Math.sin(a.rotation),silent:!0,z2:11}),t.add(y)}})}}},axisTickLabel:function(a,e,t,r){var i=tc(t,r,e,a),n=rc(t,r,e,a);if(Qv(e,n,i),ec(t,r,e,a.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=Bv(U(n,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Fv(o)}},axisName:function(a,e,t,r){var i=Le(a.axisName,e.get("name"));if(i){var n=e.get("nameLocation"),o=a.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),v=u[0]>u[1]?-1:1,c=[n==="start"?u[0]-v*l:n==="end"?u[1]+v*l:(u[0]+u[1])/2,Mi(n)?a.labelOffset+o*l:0],f,h=e.get("nameRotate");h!=null&&(h=h*Bt/180);var d;Mi(n)?f=Ht.innerTextLayout(a.rotation,h??a.rotation,o):(f=Jv(a.rotation,n,h||0,u),d=a.axisNameAvailableWidth,d!=null&&(d=Math.abs(d/Math.sin(f.rotation)),!isFinite(d)&&(d=null)));var p=s.getFont(),g=e.get("nameTruncate",!0)||{},m=g.ellipsis,_=Le(a.nameTruncateMaxWidth,g.maxWidth,d),y=new wt({x:c[0],y:c[1],rotation:f.rotation,silent:Ht.isLabelSilent(e),style:he(s,{text:i,font:p,overflow:"truncate",width:_,ellipsis:m,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Un({el:y,componentModel:e,itemName:i}),y.__fullText=i,y.anid="name",e.get("triggerEvent")){var x=Ht.makeAxisEventDataBase(e);x.targetType="axisName",x.name=i,at(y).eventData=x}r.add(y),y.updateTransform(),t.add(y),y.decomposeTransform()}}};function Jv(a,e,t,r){var i=Yn(t-a),n,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return ir(i-Bt/2)?(o=l?"bottom":"top",n="center"):ir(i-Bt*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",i<Bt*1.5&&i>Bt/2?n=l?"left":"right":n=l?"right":"left"),{rotation:i,textAlign:n,textVerticalAlign:o}}function Qv(a,e,t){if(!go(a.axis)){var r=a.get(["axisLabel","showMinLabel"]),i=a.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var n=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],v=t[1],c=t[t.length-1],f=t[t.length-2];r===!1?(ft(n),ft(u)):Ai(n,o)&&(r?(ft(o),ft(v)):(ft(n),ft(u))),i===!1?(ft(s),ft(c)):Ai(l,s)&&(i?(ft(l),ft(f)):(ft(s),ft(c)))}}function ft(a){a&&(a.ignore=!0)}function Ai(a,e){var t=a&&a.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=js([]);return Xn(i,i,-a.rotation),t.applyTransform($a([],i,a.getLocalTransform())),r.applyTransform($a([],i,e.getLocalTransform())),t.intersect(r)}}function Mi(a){return a==="middle"||a==="center"}function To(a,e,t,r,i){for(var n=[],o=[],s=[],l=0;l<a.length;l++){var u=a[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(fe(o,o,e),fe(s,s,e));var v=new rr({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});ar(v.shape,v.style.lineWidth),v.anid=i+"_"+a[l].tickValue,n.push(v)}return n}function tc(a,e,t,r){var i=t.axis,n=t.getModel("axisTick"),o=n.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=n.getModel("lineStyle"),l=r.tickDirection*n.get("length"),u=i.getTicksCoords(),v=To(u,e.transform,l,J(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<v.length;c++)a.add(v[c]);return v}}function ec(a,e,t,r){var i=t.axis,n=t.getModel("minorTick");if(!(!n.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=n.getModel("lineStyle"),l=r*n.get("length"),u=J(s.getLineStyle(),J(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),v=0;v<o.length;v++)for(var c=To(o[v],e.transform,l,u,"minorticks_"+v),f=0;f<c.length;f++)a.add(c[f])}}function rc(a,e,t,r){var i=t.axis,n=Le(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!n||i.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(Le(r.labelRotate,o.get("rotate"))||0)*Bt/180,v=Ht.innerTextLayout(r.rotation,u,r.labelDirection),c=t.getCategories&&t.getCategories(!0),f=[],h=Ht.isLabelSilent(t),d=t.get("triggerEvent");return A(l,function(p,g){var m=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,_=p.formattedLabel,y=p.rawLabel,x=o;if(c&&c[m]){var S=c[m];st(S)&&S.textStyle&&(x=new Nt(S.textStyle,o,t.ecModel))}var b=x.getTextColor()||t.get(["axisLine","lineStyle","color"]),w=i.dataToCoord(m),T=x.getShallow("align",!0)||v.textAlign,C=Xt(x.getShallow("alignMinLabel",!0),T),I=Xt(x.getShallow("alignMaxLabel",!0),T),D=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||v.textVerticalAlign,L=Xt(x.getShallow("verticalAlignMinLabel",!0),D),M=Xt(x.getShallow("verticalAlignMaxLabel",!0),D),E=new wt({x:w,y:r.labelOffset+r.labelDirection*s,rotation:v.rotation,silent:h,z2:10+(p.level||0),style:he(x,{text:_,align:g===0?C:g===l.length-1?I:T,verticalAlign:g===0?L:g===l.length-1?M:D,fill:j(b)?b(i.type==="category"?y:i.type==="value"?m+"":m,g):b})});if(E.anid="label_"+m,d){var O=Ht.makeAxisEventDataBase(t);O.targetType="axisLabel",O.value=y,O.tickIndex=g,i.type==="category"&&(O.dataIndex=m),at(E).eventData=O}e.add(E),E.updateTransform(),f.push(E),a.add(E),E.decomposeTransform()}),f}}function ac(a,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ic(t,a,e),t.seriesInvolved&&oc(t,a),t}function ic(a,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),n=i.get("link",!0)||[],o=[];A(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Re(s.model),u=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=s;var v=s.model,c=v.getModel("tooltip",r);if(A(s.getAxes(),ot(p,!1,null)),s.getTooltipAxes&&r&&c.get("show")){var f=c.get("trigger")==="axis",h=c.get(["axisPointer","type"])==="cross",d=s.getTooltipAxes(c.get(["axisPointer","axis"]));(f||h)&&A(d.baseAxes,ot(p,h?"cross":!0,f)),h&&A(d.otherAxes,ot(p,"cross",!1))}function p(g,m,_){var y=_.model.getModel("axisPointer",i),x=y.get("show");if(!(!x||x==="auto"&&!g&&!sa(y))){m==null&&(m=y.get("triggerTooltip")),y=g?nc(_,c,i,e,g,m):y;var S=y.get("snap"),b=y.get("triggerEmphasis"),w=Re(_.model),T=m||S||_.type==="category",C=a.axesInfo[w]={key:w,axis:_,coordSys:s,axisPointerModel:y,triggerTooltip:m,triggerEmphasis:b,involveSeries:T,snap:S,useHandle:sa(y),seriesModels:[],linkGroup:null};u[w]=C,a.seriesInvolved=a.seriesInvolved||T;var I=sc(n,_);if(I!=null){var D=o[I]||(o[I]={axesInfo:{}});D.axesInfo[w]=C,D.mapper=n[I].mapper,C.linkGroup=D}}}})}function nc(a,e,t,r,i,n){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};A(s,function(f){l[f]=ve(o.get(f))}),l.snap=a.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var v=o.get(["label","show"]);if(u.show=v??!0,!n){var c=l.lineStyle=o.get("crossStyle");c&&J(u,c.textStyle)}}return a.model.getModel("axisPointer",new Nt(l,t,r))}function oc(a,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),n=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||n===!1||t.get(["axisPointer","show"],!0)===!1||A(a.coordSysAxesInfo[Re(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function sc(a,e){for(var t=e.model,r=e.dim,i=0;i<a.length;i++){var n=a[i]||{};if(Rr(n[r+"AxisId"],t.id)||Rr(n[r+"AxisIndex"],t.componentIndex)||Rr(n[r+"AxisName"],t.name))return i}}function Rr(a,e){return a==="all"||Z(a)&&Ft(a,e)>=0||a===e}function lc(a){var e=La(a);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,n=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=sa(t);n==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function La(a){var e=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Re(a)]}function uc(a){var e=La(a);return e&&e.axisPointerModel}function sa(a){return!!a.get(["handle","show"])}function Re(a){return a.type+"||"+a.id}var Li={},Io=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,n){this.axisPointerClass&&lc(t),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),a.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var n=e.getAxisPointerClass(this.axisPointerClass);if(n){var o=uc(t);o?(this._axisPointer||(this._axisPointer=new n)).render(t,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){Li[t]=r},e.getAxisPointerClass=function(t){return t&&Li[t]},e.type="axis",e}(zt),la=Jt();function vc(a,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var v=s.length,c=la(a).splitAreaColors,f=nt(),h=0;if(c)for(var d=0;d<u.length;d++){var p=c.get(u[d].tickValue);if(p!=null){h=(p+(v-1)*d)%v;break}}var g=i.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=Z(s)?s:[s];for(var d=1;d<u.length;d++){var _=i.toGlobalCoord(u[d].coord),y=void 0,x=void 0,S=void 0,b=void 0;i.isHorizontal()?(y=g,x=l.y,S=_-y,b=l.height,g=y+S):(y=l.x,x=g,S=l.width,b=_-x,g=x+b);var w=u[d-1].tickValue;w!=null&&f.set(w,h),e.add(new At({anid:w!=null?"area_"+w:null,shape:{x:y,y:x,width:S,height:b},style:J({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%v}la(a).splitAreaColors=f}}}function cc(a){la(a).splitAreaColors=null}var fc=["axisLine","axisTickLabel","axisName"],hc=["splitArea","splitLine","minorSplitLine"],Do=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new St,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=oa(s,t),u=new Ht(t,K({handleAutoShown:function(c){for(var f=s.coordinateSystem.getCartesians(),h=0;h<f.length;h++)if(aa(f[h].getOtherAxis(t.axis).scale))return!0;return!1}},l));A(fc,u.add,u),this._axisGroup.add(u.getGroup()),A(hc,function(c){t.get([c,"show"])&&dc[c](this,this._axisGroup,t,s)},this);var v=n&&n.type==="changeAxisOrder"&&n.isInitSort;v||qs(o,this._axisGroup,t),a.prototype.render.call(this,t,r,i,n)}},e.prototype.remove=function(){cc(this)},e.type="cartesianAxis",e}(Io),dc={splitLine:function(a,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=Z(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=i.isHorizontal(),v=0,c=i.getTicksCoords({tickModel:n}),f=[],h=[],d=o.getLineStyle(),p=0;p<c.length;p++){var g=i.toGlobalCoord(c[p].coord);u?(f[0]=g,f[1]=l.y,h[0]=g,h[1]=l.y+l.height):(f[0]=l.x,f[1]=g,h[0]=l.x+l.width,h[1]=g);var m=v++%s.length,_=c[p].tickValue,y=new rr({anid:_!=null?"line_"+c[p].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:J({stroke:s[m]},d),silent:!0});ar(y.shape,d.lineWidth),e.add(y)}}},minorSplitLine:function(a,e,t,r){var i=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var v=[],c=[],f=o.getLineStyle(),h=0;h<u.length;h++)for(var d=0;d<u[h].length;d++){var p=i.toGlobalCoord(u[h][d].coord);l?(v[0]=p,v[1]=s.y,c[0]=p,c[1]=s.y+s.height):(v[0]=s.x,v[1]=p,c[0]=s.x+s.width,c[1]=p);var g=new rr({anid:"minor_line_"+u[h][d].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:c[0],y2:c[1]},style:f,silent:!0});ar(g.shape,f.lineWidth),e.add(g)}},splitArea:function(a,e,t,r){vc(a,e,t,r)}},Ao=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Do),pc=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=Ao.type,t}return e.type="yAxis",e}(Do),gc=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new At({shape:t.coordinateSystem.getRect(),style:J({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(zt),ki={offset:0};function mc(a){a.registerComponentView(gc),a.registerComponentModel(Hv),a.registerCoordinateSystem("cartesian2d",qv),xi(a,"x",ia,ki),xi(a,"y",ia,ki),a.registerComponentView(Ao),a.registerComponentView(pc),a.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Ut=Jt(),Pi=ve,Nr=ct,yc=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(e,t,r,i){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,e,t,r);var v=u.graphicKey;v!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=v;var c=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new St,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var f=ot(Oi,t,c);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,t)}Ri(s,t,!0),this._renderHandle(n)}},a.prototype.remove=function(e){this.clear(e)},a.prototype.dispose=function(e){this.clear(e)},a.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,n=i.type==="category",o=t.get("snap");if(!o&&!n)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(n&&i.getBandWidth()>s)return!0;if(o){var l=La(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},a.prototype.makeElOption=function(e,t,r,i,n){},a.prototype.createPointerEl=function(e,t,r,i){var n=t.pointer;if(n){var o=Ut(e).pointerEl=new Ks[n.type](Pi(t.pointer));e.add(o)}},a.prototype.createLabelEl=function(e,t,r,i){if(t.label){var n=Ut(e).labelEl=new wt(Pi(t.label));e.add(n),Ei(n,i)}},a.prototype.updatePointerEl=function(e,t,r){var i=Ut(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},a.prototype.updateLabelEl=function(e,t,r,i){var n=Ut(e).labelEl;n&&(n.setStyle(t.label.style),r(n,{x:t.label.x,y:t.label.y}),Ei(n,i))},a.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,n=t.getModel("handle"),o=t.get("status");if(!n.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=jn(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Js(u.event)},onmousedown:Nr(this._onHandleDragMove,this,0,0),drift:Nr(this._onHandleDragMove,this),ondragend:Nr(this._onHandleDragEnd,this)}),r.add(i)),Ri(i,t,!1),i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");Z(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,qn(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},a.prototype._moveHandleToValue=function(e,t){Oi(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Gr(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(Gr(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(Gr(i)),Ut(r).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),qr(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},a}();function Oi(a,e,t,r){Mo(Ut(t).lastProp,r)||(Ut(t).lastProp=r,e?de(t,r,a):(t.stopAnimation(),t.attr(r)))}function Mo(a,e){if(st(a)&&st(e)){var t=!0;return A(e,function(r,i){t=t&&Mo(a[i],r)}),!!t}else return a===e}function Ei(a,e){a[e.get(["label","show"])?"show":"hide"]()}function Gr(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function Ri(a,e,t){var r=e.get("z"),i=e.get("zlevel");a&&a.traverse(function(n){n.type!=="group"&&(r!=null&&(n.z=r),i!=null&&(n.zlevel=i),n.silent=t)})}function _c(a){var e=a.get("type"),t=a.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function xc(a,e,t,r,i){var n=t.get("value"),o=Lo(n,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=xa(s.get("padding")||0),u=s.getFont(),v=Vn(o,u),c=i.position,f=v.width+l[1]+l[3],h=v.height+l[0]+l[2],d=i.align;d==="right"&&(c[0]-=f),d==="center"&&(c[0]-=f/2);var p=i.verticalAlign;p==="bottom"&&(c[1]-=h),p==="middle"&&(c[1]-=h/2),bc(c,f,h,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),a.label={x:c[0],y:c[1],style:he(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function bc(a,e,t,r){var i=r.getWidth(),n=r.getHeight();a[0]=Math.min(a[0]+e,i)-e,a[1]=Math.min(a[1]+t,n)-t,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function Lo(a,e,t,r,i){a=e.scale.parse(a);var n=e.scale.getLabel({value:a},{precision:i.precision}),o=i.formatter;if(o){var s={value:Da(e,{value:a}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};A(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),v=l.dataIndexInside,c=u&&u.getDataParams(v);c&&s.seriesData.push(c)}),X(o)?n=o.replace("{value}",n):j(o)&&(n=o(s))}return n}function ko(a,e,t){var r=el();return Xn(r,r,t.rotation),Qs(r,r,t.position),tl([a.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Sc(a,e,t,r,i,n){var o=Ht.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),xc(e,r,i,n,{position:ko(r.axis,a,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function wc(a,e,t){return t=t||0,{x1:a[t],y1:a[1-t],x2:e[t],y2:e[1-t]}}function Cc(a,e,t){return t=t||0,{x:a[t],y:a[1-t],width:e[t],height:e[1-t]}}var Tc=function(a){W(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,n,o){var s=i.axis,l=s.grid,u=n.get("type"),v=Ni(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var f=_c(n),h=Ic[u](s,c,v);h.style=f,t.graphicKey=h.type,t.pointer=h}var d=oa(l.model,i);Sc(r,t,d,i,n,o)},e.prototype.getHandleTransform=function(t,r,i){var n=oa(r.axis.grid.model,r,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=ko(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,n){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Ni(s,o).getOtherAxis(o).getGlobalExtent(),v=o.dim==="x"?0:1,c=[t.x,t.y];c[v]+=r[v],c[v]=Math.min(l[1],c[v]),c[v]=Math.max(l[0],c[v]);var f=(u[1]+u[0])/2,h=[f,f];h[v]=c[v];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:h,tooltipOption:d[v]}},e}(yc);function Ni(a,e){var t={};return t[e.dim+"AxisIndex"]=e.index,a.getCartesian(t)}var Ic={line:function(a,e,t){var r=wc([e,t[0]],[e,t[1]],Gi(a));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(a,e,t){var r=Math.max(1,a.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:Cc([e-r/2,t[0]],[r,i],Gi(a))}}};function Gi(a){return a.dim==="x"?0:1}var Dc=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Dt),It=Jt(),Ac=A;function Po(a,e,t){if(!vt.node){var r=e.getZr();It(r).records||(It(r).records={}),Mc(r,e);var i=It(r).records[a]||(It(r).records[a]={});i.handler=t}}function Mc(a,e){if(It(a).initialized)return;It(a).initialized=!0,t("click",ot(Bi,"click")),t("mousemove",ot(Bi,"mousemove")),t("globalout",kc);function t(r,i){a.on(r,function(n){var o=Pc(e);Ac(It(a).records,function(s){s&&i(s,n,o.dispatchAction)}),Lc(o.pendings,e)})}}function Lc(a,e){var t=a.showTip.length,r=a.hideTip.length,i;t?i=a.showTip[t-1]:r&&(i=a.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function kc(a,e,t){a.handler("leave",null,t)}function Bi(a,e,t,r){e.handler(a,t,r)}function Pc(a){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,a.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function ua(a,e){if(!vt.node){var t=e.getZr(),r=(It(t).records||{})[a];r&&(It(t).records[a]=null)}}var Oc=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var n=r.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";Po("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){ua("axisPointer",r)},e.prototype.dispose=function(t,r){ua("axisPointer",r)},e.type="axisPointer",e}(zt);function Oo(a,e){var t=[],r=a.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var n=i.getData(),o=Kr(n,a);if(o==null||o<0||Z(o))return{point:[]};var s=n.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(a.isStacked){var u=l.getBaseAxis(),v=l.getOtherAxis(u),c=v.dim,f=u.dim,h=c==="x"||c==="radius"?1:0,d=n.mapDimension(f),p=[];p[h]=n.get(d,o),p[1-h]=n.get(n.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(n.getValues(U(l.dimensions,function(m){return n.mapDimension(m)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),t=[g.x+g.width/2,g.y+g.height/2]}return{point:t,el:s}}var Fi=Jt();function Ec(a,e,t){var r=a.currTrigger,i=[a.x,a.y],n=a,o=a.dispatchAction||ct(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){er(i)&&(i=Oo({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var l=er(i),u=n.axesInfo,v=s.axesInfo,c=r==="leave"||er(i),f={},h={},d={list:[],map:{}},p={showPointer:ot(Nc,h),showTooltip:ot(Gc,d)};A(s.coordSysMap,function(m,_){var y=l||m.containPoint(i);A(s.coordSysAxesInfo[_],function(x,S){var b=x.axis,w=zc(u,x);if(!c&&y&&(!u||w)){var T=w&&w.value;T==null&&!l&&(T=b.pointToData(i)),T!=null&&Hi(x,T,p,!1,f)}})});var g={};return A(v,function(m,_){var y=m.linkGroup;y&&!h[_]&&A(y.axesInfo,function(x,S){var b=h[S];if(x!==m&&b){var w=b.value;y.mapper&&(w=m.axis.scale.parse(y.mapper(w,zi(x),zi(m)))),g[m.key]=w}})}),A(g,function(m,_){Hi(v[_],m,p,!0,f)}),Bc(h,v,f),Fc(d,i,a,o),Hc(v,o,t),f}}function Hi(a,e,t,r,i){var n=a.axis;if(!(n.scale.isBlank()||!n.containData(e))){if(!a.involveSeries){t.showPointer(a,e);return}var o=Rc(e,a),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&K(i,s[0]),!r&&a.snap&&n.containData(l)&&l!=null&&(e=l),t.showPointer(a,e,s),t.showTooltip(a,o,l)}}function Rc(a,e){var t=e.axis,r=t.dim,i=a,n=[],o=Number.MAX_VALUE,s=-1;return A(e.seriesModels,function(l,u){var v=l.getData().mapDimensionsAll(r),c,f;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(v,a,t);f=h.dataIndices,c=h.nestestValue}else{if(f=l.getData().indicesOfNearest(v[0],a,t.type==="category"?.5:null),!f.length)return;c=l.getData().get(v[0],f[0])}if(!(c==null||!isFinite(c))){var d=a-c,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,i=c,n.length=0),A(f,function(g){n.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:n,snapToValue:i}}function Nc(a,e,t,r){a[e.key]={value:t,payloadBatch:r}}function Gc(a,e,t,r){var i=t.payloadBatch,n=e.axis,o=n.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=Re(l),v=a.map[u];v||(v=a.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},a.list.push(v)),v.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Bc(a,e,t){var r=t.axesInfo=[];A(e,function(i,n){var o=i.axisPointerModel.option,s=a[n];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Fc(a,e,t,r){if(er(e)||!a.list.length){r({type:"hideTip"});return}var i=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:a.list})}function Hc(a,e,t){var r=t.getZr(),i="axisPointerLastHighlights",n=Fi(r)[i]||{},o=Fi(r)[i]={};A(a,function(u,v){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&A(c.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;o[h]=f})});var s=[],l=[];A(n,function(u,v){!o[v]&&l.push(u)}),A(o,function(u,v){!n[v]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function zc(a,e){for(var t=0;t<(a||[]).length;t++){var r=a[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function zi(a){var e=a.axis.model,t={},r=t.axisDim=a.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function er(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function Eo(a){Io.registerAxisPointerClass("CartesianAxisPointer",Tc),a.registerComponentModel(Dc),a.registerComponentView(Oc),a.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Z(t)&&(e.axisPointer.link=[t])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=ac(e,t)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ec)}function mr(a){yt(mc),yt(Eo)}function Vc(a,e){var t=xa(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),a=new At({shape:{x:a.x-t[3],y:a.y-t[0],width:a.width+t[1]+t[3],height:a.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),a}var Wc=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Dt);function Ro(a){var e=a.get("confine");return e!=null?!!e:a.get("renderMode")==="richText"}function No(a){if(vt.domSupported){for(var e=document.documentElement.style,t=0,r=a.length;t<r;t++)if(a[t]in e)return a[t]}}var Go=No(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$c=No(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Bo(a,e){if(!a)return e;e=Kn(e,!0);var t=a.indexOf(e);return a=t===-1?e:"-"+a.slice(0,t)+"-"+e,a.toLowerCase()}function Zc(a,e){var t=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return t?t[e]:null}var Uc=Bo($c,"transition"),ka=Bo(Go,"transform"),Xc="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(vt.transform3dSupported?"will-change:transform;":"");function Yc(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function jc(a,e,t){if(!X(t)||t==="inside")return"";var r=a.get("backgroundColor"),i=a.get("borderWidth");e=pe(e);var n=Yc(t),o=Math.max(Math.round(i)*1.5,6),s="",l=ka+":",u;Ft(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var v=u*Math.PI/180,c=o+i,f=c*Math.abs(Math.cos(v))+c*Math.abs(Math.sin(v)),h=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-c)/2)*100)/100;s+=";"+n+":-"+h+"px";var d=e+" solid "+i+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"];return'<div style="'+p.join("")+'"></div>'}function qc(a,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+a/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+a+"s "+t,i+=vt.transformSupported?","+ka+r:",left"+r+",top"+r),Uc+":"+i}function Vi(a,e,t){var r=a.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!vt.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var n=vt.transform3dSupported,o="translate"+(n?"3d":"")+"("+r+","+i+(n?",0":"")+")";return t?"top:0;left:0;"+ka+":"+o+";":[["top",0],["left",0],[Go,o]]}function Kc(a){var e=[],t=a.get("fontSize"),r=a.getTextColor();r&&e.push("color:"+r),e.push("font:"+a.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=a.get("textShadowColor"),n=a.get("textShadowBlur")||0,o=a.get("textShadowOffsetX")||0,s=a.get("textShadowOffsetY")||0;return i&&n&&e.push("text-shadow:"+o+"px "+s+"px "+n+"px "+i),A(["decoration","align"],function(l){var u=a.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function Jc(a,e,t){var r=[],i=a.get("transitionDuration"),n=a.get("backgroundColor"),o=a.get("shadowBlur"),s=a.get("shadowColor"),l=a.get("shadowOffsetX"),u=a.get("shadowOffsetY"),v=a.getModel("textStyle"),c=Jn(a,"html"),f=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+f),e&&i&&r.push(qc(i,t)),n&&r.push("background-color:"+n),A(["width","color","radius"],function(h){var d="border-"+h,p=Kn(d),g=a.get(p);g!=null&&r.push(d+":"+g+(h==="color"?"":"px"))}),r.push(Kc(v)),c!=null&&r.push("padding:"+xa(c).join("px ")+"px"),r.join(";")+";"}function Wi(a,e,t,r,i){var n=e&&e.painter;if(t){var o=n&&n.getViewportRoot();o&&al(a,o,t,r,i)}else{a[0]=r,a[1]=i;var s=n&&n.getViewportRootOffset();s&&(a[0]+=s.offsetLeft,a[1]+=s.offsetTop)}a[2]=a[0]/e.getWidth(),a[3]=a[1]/e.getHeight()}var Qc=function(){function a(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,vt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),n=t.appendTo,o=n&&(X(n)?document.querySelector(n):Za(n)?n:j(n)&&n(e.getDom()));Wi(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,v=i.painter.getViewportRoot();rl(v,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return a.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=Zc(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=e.get("className")||""},a.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,n=this._styleCoord;r.innerHTML?i.cssText=Xc+Jc(e,!this._firstShow,this._longHide)+Vi(n[0],n[1],!0)+("border-color:"+pe(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(e,t,r,i,n){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(X(n)&&r.get("trigger")==="item"&&!Ro(r)&&(s=jc(r,i,n)),X(e))o.innerHTML=e+s;else if(e){o.innerHTML="",Z(e)||(e=[e]);for(var l=0;l<e.length;l++)Za(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},a.prototype.setEnterable=function(e){this._enterable=e},a.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},a.prototype.moveTo=function(e,t){var r=this._styleCoord;if(Wi(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,n=Vi(r[0],r[1]);A(n,function(o){i[o[0]]=o[1]})}},a.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},a.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",vt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},a.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ct(this.hide,this),e)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},a}(),tf=function(){function a(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Zi(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return a.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(e,t,r,i,n){var o=this;st(e)&&il(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new wt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Jn(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),A(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),A(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},a.prototype.setEnterable=function(e){this._enterable=e},a.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=$i(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},a.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;Zi(i,this._zr,e,t),e=i[0],t=i[1];var n=r.style,o=Et(n.borderWidth||0),s=$i(n);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},a.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ct(this.hide,this),e)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function Et(a){return Math.max(0,a)}function $i(a){var e=Et(a.shadowBlur||0),t=Et(a.shadowOffsetX||0),r=Et(a.shadowOffsetY||0);return{left:Et(e-t),right:Et(e+t),top:Et(e-r),bottom:Et(e+r)}}function Zi(a,e,t,r){a[0]=t,a[1]=r,a[2]=a[0]/e.getWidth(),a[3]=a[1]/e.getHeight()}var ef=new At({shape:{x:-1,y:-1,width:2,height:2}}),rf=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(vt.node||!r.getDom())){var i=t.getComponent("tooltip"),n=this._renderMode=nl(i.get("renderMode"));this._tooltipContent=n==="richText"?new tf(r):new Qc(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,r,i){if(!(vt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?qn(this,"_updatePosition",50,"fixRate"):qr(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Po("itemTooltip",this._api,ct(function(i,n,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(n,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,n=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,n){if(!(n.from===this.uid||vt.node||!i.getDom())){var o=Ui(n,i);this._ticket="";var s=n.dataByCoordSys,l=sf(n,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var v=ef;v.x=n.x,v.y=n.y,v.update(),at(v).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:v},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,n))return;var c=Oo(n,r),f=c.point[0],h=c.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:c.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,i,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(Ui(n,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,n){var o=n.seriesIndex,s=n.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var v=u.getData(),c=we([v.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var s=at(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;ol(i,function(v){if(at(v).dataIndex!=null)return l=v,!0;if(at(v).tooltipConfig!=null)return u=v,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=ct(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,n=this._tooltipModel,o=[r.offsetX,r.offsetY],s=we([r.tooltipOption],n),l=this._renderMode,u=[],v=Ua("section",{blocks:[],noHeader:!0}),c=[],f=new Dr;A(t,function(_){A(_.dataByAxis,function(y){var x=i.getComponent(y.axisDim+"Axis",y.axisIndex),S=y.value;if(!(!x||S==null)){var b=Lo(S,x.axis,i,y.seriesDataIndices,y.valueLabelOpt),w=Ua("section",{header:b,noHeader:!sl(b),sortBlocks:!0,blocks:[]});v.blocks.push(w),A(y.seriesDataIndices,function(T){var C=i.getSeriesByIndex(T.seriesIndex),I=T.dataIndexInside,D=C.getDataParams(I);if(!(D.dataIndex<0)){D.axisDim=y.axisDim,D.axisIndex=y.axisIndex,D.axisType=y.axisType,D.axisId=y.axisId,D.axisValue=Da(x.axis,{value:S}),D.axisValueLabel=b,D.marker=f.makeTooltipMarker("item",pe(D.color),l);var L=Xa(C.formatTooltip(I,!0,null)),M=L.frag;if(M){var E=we([C],n).get("valueFormatter");w.blocks.push(E?K({valueFormatter:E},M):M)}L.text&&c.push(L.text),u.push(D)}})}})}),v.blocks.reverse(),c.reverse();var h=r.position,d=s.get("order"),p=Ya(v,f,l,d,i.get("useUTC"),s.get("textStyle"));p&&c.unshift(p);var g=l==="richText"?`

`:"<br/>",m=c.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],h,null,f)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var n=this._ecModel,o=at(r),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,v=o.dataIndex,c=o.dataType,f=u.getData(c),h=this._renderMode,d=t.positionDefault,p=we([f.getItemModel(v),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),g=p.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(v,c),_=new Dr;m.marker=_.makeTooltipMarker("item",pe(m.color),h);var y=Xa(u.formatTooltip(v,!1,c)),x=p.get("order"),S=p.get("valueFormatter"),b=y.frag,w=b?Ya(S?K({valueFormatter:S},b):b,_,h,x,n.get("useUTC"),p.get("textStyle")):y.text,T="item_"+u.name+"_"+v;this._showOrMove(p,function(){this._showTooltipContent(p,w,m,T,t.offsetX,t.offsetY,t.position,t.target,_)}),i({type:"showTip",dataIndexInside:v,dataIndex:f.getRawIndex(v),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var n=this._renderMode==="html",o=at(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(X(l)){var v=l;l={content:v,formatter:v},u=!0}u&&n&&l.content&&(l=ve(l),l.content=ll(l.content));var c=[l],f=this._ecModel.getComponent(o.componentMainType,o.componentIndex);f&&c.push(f),c.push({formatter:l.content});var h=t.positionDefault,d=we(c,this._tooltipModel,h?{position:h}:null),p=d.get("content"),g=Math.random()+"",m=new Dr;this._showOrMove(d,function(){var _=ve(d.get("formatterParams")||{});this._showTooltipContent(d,p,_,g,t.offsetX,t.offsetY,t.position,r,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,n,o,s,l,u,v){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var h=r,d=this._getNearestPoint([o,s],i,t.get("trigger"),t.get("borderColor")),p=d.color;if(f)if(X(f)){var g=t.ecModel.get("useUTC"),m=Z(i)?i[0]:i,_=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=f,_&&(h=On(m.axisValue,h,g)),h=ul(h,i,!0)}else if(j(f)){var y=ct(function(x,S){x===this._ticket&&(c.setContent(S,v,t,p,l),this._updatePosition(t,l,o,s,c,i,u))},this);this._ticket=n,h=f(i,n,y)}else h=f;c.setContent(h,v,t,p,l),c.show(t,p),this._updatePosition(t,l,o,s,c,i,u)}},e.prototype._getNearestPoint=function(t,r,i,n){if(i==="axis"||Z(r))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!Z(r))return{color:n||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,n,o,s,l){var u=this._api.getWidth(),v=this._api.getHeight();r=r||t.get("position");var c=o.getSize(),f=t.get("align"),h=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),j(r)&&(r=r([i,n],s,o.el,d,{viewSize:[u,v],contentSize:c.slice()})),Z(r))i=qt(r[0],u),n=qt(r[1],v);else if(st(r)){var p=r;p.width=c[0],p.height=c[1];var g=ke(p,{width:u,height:v});i=g.x,n=g.y,f=null,h=null}else if(X(r)&&l){var m=of(r,d,c,t.get("borderWidth"));i=m[0],n=m[1]}else{var m=af(i,n,o,u,v,f?null:20,h?null:20);i=m[0],n=m[1]}if(f&&(i-=Xi(f)?c[0]/2:f==="right"?c[0]:0),h&&(n-=Xi(h)?c[1]/2:h==="bottom"?c[1]:0),Ro(t)){var m=nf(i,n,o,u,v);i=m[0],n=m[1]}o.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===t.length;return o&&A(i,function(s,l){var u=s.dataByAxis||[],v=t[l]||{},c=v.dataByAxis||[];o=o&&u.length===c.length,o&&A(u,function(f,h){var d=c[h]||{},p=f.seriesDataIndices||[],g=d.seriesDataIndices||[];o=o&&f.value===d.value&&f.axisType===d.axisType&&f.axisId===d.axisId&&p.length===g.length,o&&A(p,function(m,_){var y=g[_];o=o&&m.seriesIndex===y.seriesIndex&&m.dataIndex===y.dataIndex}),n&&A(f.seriesDataIndices,function(m){var _=m.seriesIndex,y=r[_],x=n[_];y&&x&&x.data!==y.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){vt.node||!r.getDom()||(qr(this,"_updatePosition"),this._tooltipContent.dispose(),ua("itemTooltip",r))},e.type="tooltip",e}(zt);function we(a,e,t){var r=e.ecModel,i;t?(i=new Nt(t,r,r),i=new Nt(e.option,i,r)):i=e;for(var n=a.length-1;n>=0;n--){var o=a[n];o&&(o instanceof Nt&&(o=o.get("tooltip",!0)),X(o)&&(o={formatter:o}),o&&(i=new Nt(o,i,r)))}return i}function Ui(a,e){return a.dispatchAction||ct(e.dispatchAction,e)}function af(a,e,t,r,i,n,o){var s=t.getSize(),l=s[0],u=s[1];return n!=null&&(a+l+n+2>r?a-=l+n:a+=n),o!=null&&(e+u+o>i?e-=u+o:e+=o),[a,e]}function nf(a,e,t,r,i){var n=t.getSize(),o=n[0],s=n[1];return a=Math.min(a+o,r)-o,e=Math.min(e+s,i)-s,a=Math.max(a,0),e=Math.max(e,0),[a,e]}function of(a,e,t,r){var i=t[0],n=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,v=e.height;switch(a){case"inside":s=e.x+u/2-i/2,l=e.y+v/2-n/2;break;case"top":s=e.x+u/2-i/2,l=e.y-n-o;break;case"bottom":s=e.x+u/2-i/2,l=e.y+v+o;break;case"left":s=e.x-i-o,l=e.y+v/2-n/2;break;case"right":s=e.x+u+o,l=e.y+v/2-n/2}return[s,l]}function Xi(a){return a==="center"||a==="middle"}function sf(a,e,t){var r=vl(a).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var n=cl(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var v=at(u).tooltipConfig;if(v&&v.name===a.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function yr(a){yt(Eo),a.registerComponentModel(Wc),a.registerComponentView(rf),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ja),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ja)}var lf=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Dt),uf=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var n=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=Xt(t.get("textBaseline"),t.get("textVerticalAlign")),v=new wt({style:he(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=v.getBoundingRect(),f=t.get("subtext"),h=new wt({style:he(s,{text:f,fill:s.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),p=t.get("sublink"),g=t.get("triggerEvent",!0);v.silent=!d&&!g,h.silent=!p&&!g,d&&v.on("click",function(){qa(d,"_"+t.get("target"))}),p&&h.on("click",function(){qa(p,"_"+t.get("subtarget"))}),at(v).eventData=at(h).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(v),f&&n.add(h);var m=n.getBoundingRect(),_=t.getBoxLayoutParams();_.width=m.width,_.height=m.height;var y=ke(_,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?y.x+=y.width:l==="center"&&(y.x+=y.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?y.y+=y.height:u==="middle"&&(y.y+=y.height/2),u=u||"top"),n.x=y.x,n.y=y.y,n.markRedraw();var x={align:l,verticalAlign:u};v.setStyle(x),h.setStyle(x),m=n.getBoundingRect();var S=y.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var w=new At({shape:{x:m.x-S[3],y:m.y-S[0],width:m.width+S[1]+S[3],height:m.height+S[0]+S[2],r:t.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});n.add(w)}},e.type="title",e}(zt);function _r(a){a.registerComponentModel(lf),a.registerComponentView(uf)}function Fo(a,e){var t=a.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=Ka(a,e,t[0]);return i!=null?i+"":null}else if(r){for(var n=[],o=0;o<t.length;o++)n.push(Ka(a,e,t[o]));return n.join(" ")}}function vf(a,e){var t=a.mapDimensionsAll("defaultedLabel");if(!Z(e))return e+"";for(var r=[],i=0;i<t.length;i++){var n=a.getDimensionIndex(t[i]);n>=0&&r.push(e[n])}return r.join(" ")}var Pa=function(a){W(e,a);function e(t,r,i,n){var o=a.call(this)||this;return o.updateData(t,r,i,n),o}return e.prototype._createSymbol=function(t,r,i,n,o){this.removeAll();var s=Pe(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=cf,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){fl(this.childAt(0))},e.prototype.downplay=function(){hl(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,n){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=o!==this._symbolType,v=n&&n.disableAnimation;if(u){var c=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,c)}else{var f=this.childAt(0);f.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};v?f.attr(h):de(f,h,s,r),dl(f)}if(this._updateCommon(t,r,l,i,n),u){var f=this.childAt(0);if(!v){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Ne(f,h,s,r)}}v&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,n,o){var s=this.childAt(0),l=t.hostModel,u,v,c,f,h,d,p,g,m;if(n&&(u=n.emphasisItemStyle,v=n.blurItemStyle,c=n.selectItemStyle,f=n.focus,h=n.blurScope,p=n.labelStatesModels,g=n.hoverScale,m=n.cursorStyle,d=n.emphasisDisabled),!n||t.hasItemOption){var _=n&&n.itemModel?n.itemModel:t.getItemModel(r),y=_.getModel("emphasis");u=y.getModel("itemStyle").getItemStyle(),c=_.getModel(["select","itemStyle"]).getItemStyle(),v=_.getModel(["blur","itemStyle"]).getItemStyle(),f=y.get("focus"),h=y.get("blurScope"),d=y.get("disabled"),p=ba(_),g=y.getShallow("scale"),m=_.getShallow("cursor")}var x=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var S=Zn(t.getItemVisual(r,"symbolOffset"),i);S&&(s.x=S[0],s.y=S[1]),m&&s.attr("cursor",m);var b=t.getItemVisual(r,"style"),w=b.fill;if(s instanceof pl){var T=s.style;s.useStyle(K({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},b))}else s.__isEmptyBrush?s.useStyle(K({},b)):s.useStyle(b),s.style.decal=null,s.setColor(w,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var C=t.getItemVisual(r,"liftZ"),I=this._z2;C!=null?I==null&&(this._z2=s.z2,s.z2+=C):I!=null&&(s.z2=I,this._z2=null);var D=o&&o.useNameLabel;Sa(s,p,{labelFetcher:l,labelDataIndex:r,defaultText:L,inheritColor:w,defaultOpacity:b.opacity});function L(O){return D?t.getName(O):Fo(t,O)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var M=s.ensureState("emphasis");M.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=v;var E=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;M.scaleX=this._sizeX*E,M.scaleY=this._sizeY*E,this.setSymbolScale(1),Jr(this,f,h,d)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var n=this.childAt(0),o=at(this).dataIndex,s=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var l=n.getTextContent();l&&Ja(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Ja(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return gl(t.getItemVisual(r,"symbolSize"))},e}(St);function cf(a,e){this.parent.drift(a,e)}function Br(a,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&a.getItemVisual(t,"symbol")!=="none"}function Yi(a){return a!=null&&!st(a)&&(a={isIgnore:a}),a||{}}function ji(a){var e=a.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ba(e),cursorStyle:e.get("cursor")}}var ff=function(){function a(e){this.group=new St,this._SymbolCtor=e||Pa}return a.prototype.updateData=function(e,t){this._progressiveEls=null,t=Yi(t);var r=this.group,i=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=ji(e),u={disableAnimation:s},v=t.getSymbolPoint||function(c){return e.getItemLayout(c)};n||r.removeAll(),e.diff(n).add(function(c){var f=v(c);if(Br(e,f,c,t)){var h=new o(e,c,l,u);h.setPosition(f),e.setItemGraphicEl(c,h),r.add(h)}}).update(function(c,f){var h=n.getItemGraphicEl(f),d=v(c);if(!Br(e,d,c,t)){r.remove(h);return}var p=e.getItemVisual(c,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==p)r.remove(h),h=new o(e,c,l,u),h.setPosition(d);else{h.updateData(e,c,l,u);var m={x:d[0],y:d[1]};s?h.attr(m):de(h,m,i)}r.add(h),e.setItemGraphicEl(c,h)}).remove(function(c){var f=n.getItemGraphicEl(c);f&&f.fadeOut(function(){r.remove(f)},i)}).execute(),this._getSymbolPoint=v,this._data=e},a.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var n=e._getSymbolPoint(i);r.setPosition(n),r.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ji(e),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=Yi(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(Br(t,o,n,r)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},a.prototype.eachRendered=function(e){ml(this._progressiveEls||this.group,e)},a.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},a}();function hf(a,e){return a.type===e}var df=function(a,e){if(e==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},va=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){a.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),Z(r)&&A(r,function(n,o){X(n)&&(n={type:n}),r[o]=ht(n,df(i,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var v;if(l.legendVisualProvider){var c=l.legendVisualProvider,f=c.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(f)),f.length?r=r.concat(f):v=!0}else v=!0;v&&yl(l)&&r.push(l.name)}),this._availableNames=i;var n=this.get("data")||r,o=nt(),s=U(n,function(l){return(X(l)||ge(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Nt(l,this,this.ecModel))},this);this._data=ce(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;A(n,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;A(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;A(t,function(i){var n=i.get("name",!0);r.hasOwnProperty(n)||(r[n]=!0),r[n]=!r[n]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Ft(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Dt),ee=ot,ca=A,Xe=St,Ho=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new Xe),this.group.add(this._selectorGroup=new Xe),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,i,l,s,u);var v=t.getBoxLayoutParams(),c={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),h=ke(v,c,f),d=this.layoutInner(t,o,h,n,l,u),p=ke(J({width:d.width,height:d.height},v),c,f);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Vc(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,n,o,s,l){var u=this.getContentGroup(),v=nt(),c=r.get("selectedMode"),f=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),ca(r.getData(),function(h,d){var p=h.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var g=new Xe;g.newline=!0,u.add(g);return}var m=i.getSeriesByName(p)[0];if(!v.get(p))if(m){var _=m.getData(),y=_.getVisual("legendLineStyle")||{},x=_.getVisual("legendIcon"),S=_.getVisual("style"),b=this._createItem(m,p,d,h,r,t,y,S,x,c,n);b.on("click",ee(qi,p,null,n,f)).on("mouseover",ee(fa,m.name,null,n,f)).on("mouseout",ee(ha,m.name,null,n,f)),i.ssr&&b.eachChild(function(w){var T=at(w);T.seriesIndex=m.seriesIndex,T.dataIndex=d,T.ssrType="legend"}),v.set(p,!0)}else i.eachRawSeries(function(w){if(!v.get(p)&&w.legendVisualProvider){var T=w.legendVisualProvider;if(!T.containName(p))return;var C=T.indexOfName(p),I=T.getItemVisual(C,"style"),D=T.getItemVisual(C,"legendIcon"),L=_l(I.fill);L&&L[3]===0&&(L[3]=.2,I=K(K({},I),{fill:xl(L,"rgba")}));var M=this._createItem(w,p,d,h,r,t,{},I,D,c,n);M.on("click",ee(qi,null,p,n,f)).on("mouseover",ee(fa,null,p,n,f)).on("mouseout",ee(ha,null,p,n,f)),i.ssr&&M.eachChild(function(E){var O=at(E);O.seriesIndex=w.seriesIndex,O.dataIndex=d,O.ssrType="legend"}),v.set(p,!0)}},this)},this),o&&this._createSelector(o,r,n,s,l)},e.prototype._createSelector=function(t,r,i,n,o){var s=this.getSelectorGroup();ca(t,function(u){var v=u.type,c=new wt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:v==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(c);var f=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);Sa(c,{normal:f,emphasis:h},{defaultText:u.title}),Qa(c)})},e.prototype._createItem=function(t,r,i,n,o,s,l,u,v,c,f){var h=t.visualDrawType,d=o.get("itemWidth"),p=o.get("itemHeight"),g=o.isSelected(r),m=n.get("symbolRotate"),_=n.get("symbolKeepAspect"),y=n.get("icon");v=y||v||"roundRect";var x=pf(v,n,l,u,h,g,f),S=new Xe,b=n.getModel("textStyle");if(j(t.getLegendIcon)&&(!y||y==="inherit"))S.add(t.getLegendIcon({itemWidth:d,itemHeight:p,icon:v,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:_}));else{var w=y==="inherit"&&t.getData().getVisual("symbol")?m==="inherit"?t.getData().getVisual("symbolRotate"):m:0;S.add(gf({itemWidth:d,itemHeight:p,icon:v,iconRotate:w,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:_}))}var T=s==="left"?d+5:-5,C=s,I=o.get("formatter"),D=r;X(I)&&I?D=I.replace("{name}",r??""):j(I)&&(D=I(r));var L=g?b.getTextColor():n.get("inactiveColor");S.add(new wt({style:he(b,{text:D,x:T,y:p/2,fill:L,align:C,verticalAlign:"middle"},{inheritColor:L})}));var M=new At({shape:S.getBoundingRect(),style:{fill:"transparent"}}),E=n.getModel("tooltip");return E.get("show")&&Un({el:M,componentModel:o,itemName:r,itemTooltipOption:E.option}),S.add(M),S.eachChild(function(O){O.silent=!0}),M.silent=!c,this.getContentGroup().add(S),Qa(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(t,r,i,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();De(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var v=l.getBoundingRect(),c=[-v.x,-v.y];if(u.markRedraw(),l.markRedraw(),o){De("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),h=[-f.x,-f.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,g=p===0?"width":"height",m=p===0?"height":"width",_=p===0?"y":"x";s==="end"?h[p]+=v[g]+d:c[p]+=f[g]+d,h[1-p]+=v[m]/2-f[m]/2,u.x=h[0],u.y=h[1],l.x=c[0],l.y=c[1];var y={x:0,y:0};return y[g]=v[g]+d+f[g],y[m]=Math.max(v[m],f[m]),y[_]=Math.min(0,f[_]+h[1-p]),y}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(zt);function pf(a,e,t,r,i,n,o){function s(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),ca(g,function(_,y){g[y]==="inherit"&&(g[y]=m[y])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),v=a.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:bl(c,o),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[v]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:t).opacity),s(u,r);var f=e.getModel("lineStyle"),h=f.getLineStyle();if(s(h,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!n){var d=e.get("inactiveBorderWidth"),p=u[v];u.lineWidth=d==="auto"?r.lineWidth>0&&p?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function gf(a){var e=a.icon||"roundRect",t=Pe(e,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return t.setStyle(a.itemStyle),t.rotation=(a.iconRotate||0)*Math.PI/180,t.setOrigin([a.itemWidth/2,a.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function qi(a,e,t,r){ha(a,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:a??e}),fa(a,e,t,r)}function zo(a){for(var e=a.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function fa(a,e,t,r){zo(t)||t.dispatchAction({type:"highlight",seriesName:a,name:e,excludeSeriesId:r})}function ha(a,e,t,r){zo(t)||t.dispatchAction({type:"downplay",seriesName:a,name:e,excludeSeriesId:r})}function mf(a){var e=a.findComponents({mainType:"legend"});e&&e.length&&a.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Ce(a,e,t){var r={},i=a==="toggleSelected",n;return t.eachComponent("legend",function(o){i&&n!=null?o[n?"select":"unSelect"](e.name):a==="allSelect"||a==="inverseSelect"?o[a]():(o[a](e.name),n=o.isSelected(e.name));var s=o.getData();A(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var v=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&v:r[u]=v}})}),a==="allSelect"||a==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function yf(a){a.registerAction("legendToggleSelect","legendselectchanged",ot(Ce,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",ot(Ce,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",ot(Ce,"inverseSelect")),a.registerAction("legendSelect","legendselected",ot(Ce,"select")),a.registerAction("legendUnSelect","legendunselected",ot(Ce,"unSelect"))}function Vo(a){a.registerComponentModel(va),a.registerComponentView(Ho),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,mf),a.registerSubTypeDefaulter("legend",function(){return"plain"}),yf(a)}var _f=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var n=Wn(t);a.prototype.init.call(this,t,r,i),Ki(this,t,n)},e.prototype.mergeOption=function(t,r){a.prototype.mergeOption.call(this,t,r),Ki(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Sl(va.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(va);function Ki(a,e,t){var r=a.getOrient(),i=[1,1];i[r.index]=0,$n(e,t,{type:"box",ignoreSize:!!i})}var Ji=St,Fr=["width","height"],Hr=["x","y"],xf=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Ji),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Ji)},e.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,n,o,s,l){var u=this;a.prototype.renderInner.call(this,t,r,i,n,o,s,l);var v=this._controllerGroup,c=r.get("pageIconSize",!0),f=Z(c)?c:[c,c];d("pagePrev",0);var h=r.getModel("pageTextStyle");v.add(new wt({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(p,g){var m=p+"DataIndex",_=jn(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:ct(u._pageGo,u,m,r,n)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});_.name=p,v.add(_)}},e.prototype.layoutInner=function(t,r,i,n,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,v=Fr[u],c=Hr[u],f=Fr[1-u],h=Hr[1-u];o&&De("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),g=[-p.x,-p.y],m=ve(i);o&&(m[v]=i[v]-p[v]-d);var _=this._layoutContentAndController(t,n,m,u,v,f,h,c);if(o){if(s==="end")g[u]+=_[v]+d;else{var y=p[v]+d;g[u]-=y,_[c]-=y}_[v]+=p[v]+d,g[1-u]+=_[h]+_[f]/2-p[f]/2,_[f]=Math.max(_[f],p[f]),_[h]=Math.min(_[h],p[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return _},e.prototype._layoutContentAndController=function(t,r,i,n,o,s,l,u){var v=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;De(t.get("orient"),v,t.get("itemGap"),n?i.width:null,n?null:i.height),De("horizontal",f,t.get("pageButtonItemGap",!0));var h=v.getBoundingRect(),d=f.getBoundingRect(),p=this._showController=h[o]>i[o],g=[-h.x,-h.y];r||(g[n]=v[u]);var m=[0,0],_=[-d.x,-d.y],y=Xt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var x=t.get("pageButtonPosition",!0);x==="end"?_[n]+=i[o]-d[o]:m[n]+=d[o]+y}_[1-n]+=h[s]/2-d[s]/2,v.setPosition(g),c.setPosition(m),f.setPosition(_);var S={x:0,y:0};if(S[o]=p?i[o]:h[o],S[s]=Math.max(h[s],d[s]),S[l]=Math.min(0,d[l]+_[1-n]),c.__rectSize=i[o],p){var b={x:0,y:0};b[o]=Math.max(i[o]-d[o]-y,0),b[s]=S[s],c.setClipPath(new At({shape:b})),c.__rectSize=b[o]}else f.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return w.pageIndex!=null&&de(v,{x:w.contentPosition[0],y:w.contentPosition[1]},p?t:null),this._updatePageInfoView(t,w),S},e.prototype._pageGo=function(t,r,i){var n=this._getPageInfo(r)[t];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;A(["pagePrev","pageNext"],function(v){var c=v+"DataIndex",f=r[c]!=null,h=i.childOfName(v);h&&(h.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var n=i.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;n&&o&&n.setStyle("text",X(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=Fr[o],l=Hr[o],u=this._findTargetItemIndex(r),v=i.children(),c=v[u],f=v.length,h=f?1:0,d={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var p=x(c);d.contentPosition[o]=-p.s;for(var g=u+1,m=p,_=p,y=null;g<=f;++g)y=x(v[g]),(!y&&_.e>m.s+n||y&&!S(y,m.s))&&(_.i>m.i?m=_:m=y,m&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=m.i),++d.pageCount)),_=y;for(var g=u-1,m=p,_=p,y=null;g>=-1;--g)y=x(v[g]),(!y||!S(_,y.s))&&m.i<_.i&&(_=m,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=m.i),++d.pageCount,++d.pageIndex),m=y;return d;function x(b){if(b){var w=b.getBoundingRect(),T=w[l]+b[l];return{s:T,e:T+w[s],i:b.__legendDataIndex}}}function S(b,w){return b.e>=w&&b.s<=w+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===t&&(r=s)}),r??n},e.type="legend.scroll",e}(Ho);function bf(a){a.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function Sf(a){yt(Vo),a.registerComponentModel(_f),a.registerComponentView(xf),bf(a)}function xr(a){yt(Vo),yt(Sf)}var bt=Qn.CMD;function ne(a,e){return Math.abs(a-e)<1e-5}function da(a){var e=a.data,t=a.len(),r=[],i,n=0,o=0,s=0,l=0;function u(M,E){i&&i.length>2&&r.push(i),i=[M,E]}function v(M,E,O,G){ne(M,O)&&ne(E,G)||i.push(M,E,O,G,O,G)}function c(M,E,O,G,z,R){var B=Math.abs(E-M),V=Math.tan(B/4)*4/3,tt=E<M?-1:1,Mt=Math.cos(M),lt=Math.sin(M),ut=Math.cos(E),Vt=Math.sin(E),rt=Mt*z+O,wr=lt*R+G,Ea=ut*z+O,Ra=Vt*R+G,Na=z*V*tt,Ga=R*V*tt;i.push(rt-Na*lt,wr+Ga*Mt,Ea+Na*Vt,Ra-Ga*ut,Ea,Ra)}for(var f,h,d,p,g=0;g<t;){var m=e[g++],_=g===1;switch(_&&(n=e[g],o=e[g+1],s=n,l=o,(m===bt.L||m===bt.C||m===bt.Q)&&(i=[s,l])),m){case bt.M:n=s=e[g++],o=l=e[g++],u(s,l);break;case bt.L:f=e[g++],h=e[g++],v(n,o,f,h),n=f,o=h;break;case bt.C:i.push(e[g++],e[g++],e[g++],e[g++],n=e[g++],o=e[g++]);break;case bt.Q:f=e[g++],h=e[g++],d=e[g++],p=e[g++],i.push(n+2/3*(f-n),o+2/3*(h-o),d+2/3*(f-d),p+2/3*(h-p),d,p),n=d,o=p;break;case bt.A:var y=e[g++],x=e[g++],S=e[g++],b=e[g++],w=e[g++],T=e[g++]+w;g+=1;var C=!e[g++];f=Math.cos(w)*S+y,h=Math.sin(w)*b+x,_?(s=f,l=h,u(s,l)):v(n,o,f,h),n=Math.cos(T)*S+y,o=Math.sin(T)*b+x;for(var I=(C?-1:1)*Math.PI/2,D=w;C?D>T:D<T;D+=I){var L=C?Math.max(D+I,T):Math.min(D+I,T);c(D,L,y,x,S,b)}break;case bt.R:s=n=e[g++],l=o=e[g++],f=s+e[g++],h=l+e[g++],u(f,l),v(f,l,f,h),v(f,h,s,h),v(s,h,s,l),v(s,l,f,l);break;case bt.Z:i&&v(n,o,s,l),n=s,o=l;break}}return i&&i.length>2&&r.push(i),r}function pa(a,e,t,r,i,n,o,s,l,u){if(ne(a,t)&&ne(e,r)&&ne(i,o)&&ne(n,s)){l.push(o,s);return}var v=2/u,c=v*v,f=o-a,h=s-e,d=Math.sqrt(f*f+h*h);f/=d,h/=d;var p=t-a,g=r-e,m=i-o,_=n-s,y=p*p+g*g,x=m*m+_*_;if(y<c&&x<c){l.push(o,s);return}var S=f*p+h*g,b=-f*m-h*_,w=y-S*S,T=x-b*b;if(w<c&&S>=0&&T<c&&b>=0){l.push(o,s);return}var C=[],I=[];nr(a,t,i,o,.5,C),nr(e,r,n,s,.5,I),pa(C[0],I[0],C[1],I[1],C[2],I[2],C[3],I[3],l,u),pa(C[4],I[4],C[5],I[5],C[6],I[6],C[7],I[7],l,u)}function wf(a,e){var t=da(a),r=[];e=e||1;for(var i=0;i<t.length;i++){var n=t[i],o=[],s=n[0],l=n[1];o.push(s,l);for(var u=2;u<n.length;){var v=n[u++],c=n[u++],f=n[u++],h=n[u++],d=n[u++],p=n[u++];pa(s,l,v,c,f,h,d,p,o,e),s=d,l=p}r.push(o)}return r}function Wo(a,e,t){var r=a[e],i=a[1-e],n=Math.abs(r/i),o=Math.ceil(Math.sqrt(n*t)),s=Math.floor(t/o);s===0&&(s=1,o=t);for(var l=[],u=0;u<o;u++)l.push(s);var v=o*s,c=t-v;if(c>0)for(var u=0;u<c;u++)l[u%o]+=1;return l}function Qi(a,e,t){for(var r=a.r0,i=a.r,n=a.startAngle,o=a.endAngle,s=Math.abs(o-n),l=s*i,u=i-r,v=l>Math.abs(u),c=Wo([l,u],v?0:1,e),f=(v?s:u)/c.length,h=0;h<c.length;h++)for(var d=(v?u:s)/c[h],p=0;p<c[h];p++){var g={};v?(g.startAngle=n+f*h,g.endAngle=n+f*(h+1),g.r0=r+d*p,g.r=r+d*(p+1)):(g.startAngle=n+d*p,g.endAngle=n+d*(p+1),g.r0=r+f*h,g.r=r+f*(h+1)),g.clockwise=a.clockwise,g.cx=a.cx,g.cy=a.cy,t.push(g)}}function Cf(a,e,t){for(var r=a.width,i=a.height,n=r>i,o=Wo([r,i],n?0:1,e),s=n?"width":"height",l=n?"height":"width",u=n?"x":"y",v=n?"y":"x",c=a[s]/o.length,f=0;f<o.length;f++)for(var h=a[l]/o[f],d=0;d<o[f];d++){var p={};p[u]=f*c,p[v]=d*h,p[s]=c,p[l]=h,p.x+=a.x,p.y+=a.y,t.push(p)}}function tn(a,e,t,r){return a*r-t*e}function Tf(a,e,t,r,i,n,o,s){var l=t-a,u=r-e,v=o-i,c=s-n,f=tn(v,c,l,u);if(Math.abs(f)<1e-6)return null;var h=a-i,d=e-n,p=tn(h,d,v,c)/f;return p<0||p>1?null:new Yt(p*l+a,p*u+e)}function If(a,e,t){var r=new Yt;Yt.sub(r,t,e),r.normalize();var i=new Yt;Yt.sub(i,a,e);var n=i.dot(r);return n}function re(a,e){var t=a[a.length-1];t&&t[0]===e[0]&&t[1]===e[1]||a.push(e)}function Df(a,e,t){for(var r=a.length,i=[],n=0;n<r;n++){var o=a[n],s=a[(n+1)%r],l=Tf(o[0],o[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:If(l,e,t),pt:l,idx:n})}if(i.length<2)return[{points:a},{points:a}];i.sort(function(g,m){return g.projPt-m.projPt});var u=i[0],v=i[i.length-1];if(v.idx<u.idx){var c=u;u=v,v=c}for(var f=[u.pt.x,u.pt.y],h=[v.pt.x,v.pt.y],d=[f],p=[h],n=u.idx+1;n<=v.idx;n++)re(d,a[n].slice());re(d,h),re(d,f);for(var n=v.idx+1;n<=u.idx+r;n++)re(p,a[n%r].slice());return re(p,f),re(p,h),[{points:d},{points:p}]}function en(a){var e=a.points,t=[],r=[];to(e,t,r);var i=new Tt(t[0],t[1],r[0]-t[0],r[1]-t[1]),n=i.width,o=i.height,s=i.x,l=i.y,u=new Yt,v=new Yt;return n>o?(u.x=v.x=s+n/2,u.y=l,v.y=l+o):(u.y=v.y=l+o/2,u.x=s,v.x=s+n),Df(e,u,v)}function or(a,e,t,r){if(t===1)r.push(e);else{var i=Math.floor(t/2),n=a(e);or(a,n[0],i,r),or(a,n[1],t-i,r)}return r}function Af(a,e){for(var t=[],r=0;r<e;r++)t.push(wa(a));return t}function Mf(a,e){e.setStyle(a.style),e.z=a.z,e.z2=a.z2,e.zlevel=a.zlevel}function Lf(a){for(var e=[],t=0;t<a.length;)e.push([a[t++],a[t++]]);return e}function kf(a,e){var t=[],r=a.shape,i;switch(a.type){case"rect":Cf(r,e,t),i=At;break;case"sector":Qi(r,e,t),i=Qr;break;case"circle":Qi({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),i=Qr;break;default:var n=a.getComputedTransform(),o=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1,s=U(wf(a.getUpdatedPathProxy(),o),function(m){return Lf(m)}),l=s.length;if(l===0)or(en,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var v=0,c=U(s,function(m){var _=[],y=[];to(m,_,y);var x=(y[1]-_[1])*(y[0]-_[0]);return v+=x,{poly:m,area:x}});c.sort(function(m,_){return _.area-m.area});for(var f=e,u=0;u<l;u++){var h=c[u];if(f<=0)break;var d=u===l-1?f:Math.ceil(h.area/v*e);d<0||(or(en,{points:h.poly},d,t),f-=d)}}i=wl;break}if(!i)return Af(a,e);for(var p=[],u=0;u<t.length;u++){var g=new i;g.setShape(t[u]),Mf(a,g),p.push(g)}return p}function Pf(a,e){var t=a.length,r=e.length;if(t===r)return[a,e];for(var i=[],n=[],o=t<r?a:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,v=Math.ceil(l/u)+1,c=[o[0],o[1]],f=l,h=2;h<s;){var d=o[h-2],p=o[h-1],g=o[h++],m=o[h++],_=o[h++],y=o[h++],x=o[h++],S=o[h++];if(f<=0){c.push(g,m,_,y,x,S);continue}for(var b=Math.min(f,v-1)+1,w=1;w<=b;w++){var T=w/b;nr(d,g,_,x,T,i),nr(p,m,y,S,T,n),d=i[3],p=n[3],c.push(i[1],n[1],i[2],n[2],d,p),g=i[5],m=n[5],_=i[6],y=n[6]}f-=b-1}return o===a?[c,e]:[a,c]}function rn(a,e){for(var t=a.length,r=a[t-2],i=a[t-1],n=[],o=0;o<e.length;)n[o++]=r,n[o++]=i;return n}function Of(a,e){for(var t,r,i,n=[],o=[],s=0;s<Math.max(a.length,e.length);s++){var l=a[s],u=e[s],v=void 0,c=void 0;l?u?(t=Pf(l,u),v=t[0],c=t[1],r=v,i=c):(c=rn(i||l,l),v=l):(v=rn(r||u,u),c=u),n.push(v),o.push(c)}return[n,o]}function an(a){for(var e=0,t=0,r=0,i=a.length,n=0,o=i-2;n<i;o=n,n+=2){var s=a[o],l=a[o+1],u=a[n],v=a[n+1],c=s*v-u*l;e+=c,t+=(s+u)*c,r+=(l+v)*c}return e===0?[a[0]||0,a[1]||0]:[t/e/3,r/e/3,e]}function Ef(a,e,t,r){for(var i=(a.length-2)/6,n=1/0,o=0,s=a.length,l=s-2,u=0;u<i;u++){for(var v=u*6,c=0,f=0;f<s;f+=2){var h=f===0?v:(v+f-2)%l+2,d=a[h]-t[0],p=a[h+1]-t[1],g=e[f]-r[0],m=e[f+1]-r[1],_=g-d,y=m-p;c+=_*_+y*y}c<n&&(n=c,o=u)}return o}function Rf(a){for(var e=[],t=a.length,r=0;r<t;r+=2)e[r]=a[t-r-2],e[r+1]=a[t-r-1];return e}function Nf(a,e,t,r){for(var i=[],n,o=0;o<a.length;o++){var s=a[o],l=e[o],u=an(s),v=an(l);n==null&&(n=u[2]<0!=v[2]<0);var c=[],f=[],h=0,d=1/0,p=[],g=s.length;n&&(s=Rf(s));for(var m=Ef(s,l,u,v)*6,_=g-2,y=0;y<_;y+=2){var x=(m+y)%_+2;c[y+2]=s[x]-u[0],c[y+3]=s[x+1]-u[1]}c[0]=s[m]-u[0],c[1]=s[m+1]-u[1];for(var S=r/t,b=-r/2;b<=r/2;b+=S){for(var w=Math.sin(b),T=Math.cos(b),C=0,y=0;y<s.length;y+=2){var I=c[y],D=c[y+1],L=l[y]-v[0],M=l[y+1]-v[1],E=L*T-M*w,O=L*w+M*T;p[y]=E,p[y+1]=O;var G=E-I,z=O-D;C+=G*G+z*z}if(C<d){d=C,h=b;for(var R=0;R<p.length;R++)f[R]=p[R]}}i.push({from:c,to:f,fromCp:u,toCp:v,rotation:-h})}return i}function sr(a){return a.__isCombineMorphing}var $o="__mOriginal_";function lr(a,e,t){var r=$o+e,i=a[r]||a[e];a[r]||(a[r]=a[e]);var n=t.replace,o=t.after,s=t.before;a[e]=function(){var l=arguments,u;return s&&s.apply(this,l),n?u=n.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function Me(a,e){var t=$o+e;a[t]&&(a[e]=a[t],a[t]=null)}function nn(a,e){for(var t=0;t<a.length;t++)for(var r=a[t],i=0;i<r.length;){var n=r[i],o=r[i+1];r[i++]=e[0]*n+e[2]*o+e[4],r[i++]=e[1]*n+e[3]*o+e[5]}}function Zo(a,e){var t=a.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=Of(da(t),da(r)),n=i[0],o=i[1],s=a.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&nn(n,s),l&&nn(o,l),lr(e,"updateTransform",{replace:u}),e.transform=null;var v=Nf(n,o,10,Math.PI),c=[];lr(e,"buildPath",{replace:function(f){for(var h=e.__morphT,d=1-h,p=[],g=0;g<v.length;g++){var m=v[g],_=m.from,y=m.to,x=m.rotation*h,S=m.fromCp,b=m.toCp,w=Math.sin(x),T=Math.cos(x);Cl(p,S,b,h);for(var C=0;C<_.length;C+=2){var I=_[C],D=_[C+1],L=y[C],M=y[C+1],E=I*d+L*h,O=D*d+M*h;c[C]=E*T-O*w+p[0],c[C+1]=E*w+O*T+p[1]}var G=c[0],z=c[1];f.moveTo(G,z);for(var C=2;C<_.length;){var L=c[C++],M=c[C++],R=c[C++],B=c[C++],V=c[C++],tt=c[C++];G===L&&z===M&&R===V&&B===tt?f.lineTo(V,tt):f.bezierCurveTo(L,M,R,B,V,tt),G=V,z=tt}}}})}function Oa(a,e,t){if(!a||!e)return e;var r=t.done,i=t.during;Zo(a,e),e.__morphT=0;function n(){Me(e,"buildPath"),Me(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},J({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){n(),r&&r()}},t)),e}function Gf(a,e,t,r,i,n){var o=16;a=i===t?0:Math.round(32767*(a-t)/(i-t)),e=n===r?0:Math.round(32767*(e-r)/(n-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var v=0,c=0;(a&u)>0&&(v=1),(e&u)>0&&(c=1),s+=u*u*(3*v^c),c===0&&(v===1&&(a=u-1-a,e=u-1-e),l=a,a=e,e=l)}return s}function ur(a){var e=1/0,t=1/0,r=-1/0,i=-1/0,n=U(a,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),v=l.x+l.width/2+(u?u[4]:0),c=l.y+l.height/2+(u?u[5]:0);return e=Math.min(v,e),t=Math.min(c,t),r=Math.max(v,r),i=Math.max(c,i),[v,c]}),o=U(n,function(s,l){return{cp:s,z:Gf(s[0],s[1],e,t,r,i),path:a[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Uo(a){return kf(a.path,a.count)}function ga(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Bf(a,e,t){var r=[];function i(S){for(var b=0;b<S.length;b++){var w=S[b];sr(w)?i(w.childrenRef()):w instanceof Qt&&r.push(w)}}i(a);var n=r.length;if(!n)return ga();var o=t.dividePath||Uo,s=o({path:e,count:n});if(s.length!==n)return console.error("Invalid morphing: unmatched splitted path"),ga();r=ur(r),s=ur(s);for(var l=t.done,u=t.during,v=t.individualDelay,c=new Tl,f=0;f<n;f++){var h=r[f],d=s[f];d.parent=e,d.copyTransform(c),v||Zo(h,d)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function p(S){for(var b=0;b<s.length;b++)s[b].addSelfToZr(S)}lr(e,"addSelfToZr",{after:function(S){p(S)}}),lr(e,"removeSelfFromZr",{after:function(S){for(var b=0;b<s.length;b++)s[b].removeSelfFromZr(S)}});function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Me(e,"addSelfToZr"),Me(e,"removeSelfFromZr")}var m=s.length;if(v)for(var _=m,y=function(){_--,_===0&&(g(),l&&l())},f=0;f<m;f++){var x=v?J({delay:(t.delay||0)+v(f,m,r[f],s[f]),done:y},t):t;Oa(r[f],s[f],x)}else e.__morphT=0,e.animateTo({__morphT:1},J({during:function(S){for(var b=0;b<m;b++){var w=s[b];w.__morphT=e.__morphT,w.dirtyShape()}u&&u(S)},done:function(){g();for(var S=0;S<a.length;S++)Me(a[S],"updateTransform");l&&l()}},t));return e.__zr&&p(e.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function Ff(a,e,t){var r=e.length,i=[],n=t.dividePath||Uo;function o(h){for(var d=0;d<h.length;d++){var p=h[d];sr(p)?o(p.childrenRef()):p instanceof Qt&&i.push(p)}}if(sr(a)){o(a.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(wa(i[l++%s]));i.length=r}else{i=n({path:a,count:r});for(var v=a.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(v);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),ga()}i=ur(i),e=ur(e);for(var c=t.individualDelay,u=0;u<r;u++){var f=c?J({delay:(t.delay||0)+c(u,r,i[u],e[u])},t):t;Oa(i[u],e[u],f)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function on(a){return Z(a[0])}function sn(a,e){for(var t=[],r=a.length,i=0;i<r;i++)t.push({one:a[i],many:[]});for(var i=0;i<e.length;i++){var n=e[i].length,o=void 0;for(o=0;o<n;o++)t[o%r].many.push(e[i][o])}for(var s=0,i=r-1;i>=0;i--)if(!t[i].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var n=l.length,u=Math.ceil(n/2);t[i].many=l.slice(u,n),t[s].many=l.slice(0,u),s++}return t}var Hf={clone:function(a){for(var e=[],t=1-Math.pow(1-a.path.style.opacity,1/a.count),r=0;r<a.count;r++){var i=wa(a.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function zr(a,e,t,r,i,n){if(!a.length||!e.length)return;var o=Ca("update",r,i);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,v;on(a)&&(u=a,v=e),on(e)&&(u=e,v=a);function c(m,_,y,x,S){var b=m.many,w=m.one;if(b.length===1&&!S){var T=_?b[0]:w,C=_?w:b[0];if(sr(T))c({many:[T],one:C},!0,y,x,!0);else{var I=s?J({delay:s(y,x)},l):l;Oa(T,C,I),n(T,C,T,C,I)}}else for(var D=J({dividePath:Hf[t],individualDelay:s&&function(z,R,B,V){return s(z+y,x)}},l),L=_?Bf(b,w,D):Ff(w,b,D),M=L.fromIndividuals,E=L.toIndividuals,O=M.length,G=0;G<O;G++){var I=s?J({delay:s(G,O)},l):l;n(M[G],E[G],_?b[G]:m.one,_?m.one:b[G],I)}}for(var f=u?u===a:a.length>e.length,h=u?sn(v,u):sn(f?e:a,[f?a:e]),d=0,p=0;p<h.length;p++)d+=h[p].many.length;for(var g=0,p=0;p<h.length;p++)c(h[p],f,g,d),g+=h[p].many.length}function Zt(a){if(!a)return[];if(Z(a)){for(var e=[],t=0;t<a.length;t++)e.push(Zt(a[t]));return e}var r=[];return a.traverse(function(i){i instanceof Qt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var Xo=1e4,zf=0,ln=1,un=2,Vf=Jt();function Wf(a,e){for(var t=a.dimensions,r=0;r<t.length;r++){var i=a.getDimensionInfo(t[r]);if(i&&i.otherDims[e]===0)return t[r]}}function $f(a,e,t){var r=a.getDimensionInfo(t),i=r&&r.ordinalMeta;if(r){var n=a.get(r.name,e);return i&&i.categories[n]||n+""}}function vn(a,e,t,r){var i=r?"itemChildGroupId":"itemGroupId",n=Wf(a,i);if(n){var o=$f(a,e,n);return o}var s=a.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return t||a.getId(e)}function cn(a){var e=[];return A(a,function(t){var r=t.data,i=t.dataGroupId;if(!(r.count()>Xo))for(var n=r.getIndices(),o=0;o<n.length;o++)e.push({data:r,groupId:vn(r,o,i,!1),childGroupId:vn(r,o,i,!0),divide:t.divide,dataIndex:o})}),e}function Vr(a,e,t){a.traverse(function(r){r instanceof Qt&&Ne(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function Wr(a){if(a.parent){var e=a.getComputedTransform();a.setLocalTransform(e),a.parent.remove(a)}}function ae(a){a.stopAnimation(),a.isGroup&&a.traverse(function(e){e.stopAnimation()})}function Zf(a,e,t){var r=Ca("update",t,e);r&&a.traverse(function(i){if(i instanceof Il){var n=Dl(i);n&&i.animateFrom({style:n},r)}})}function Uf(a,e){var t=a.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var i=a[r],n=e[r];if(i.data.getId(i.dataIndex)!==n.data.getId(n.dataIndex))return!1}return!0}function Yo(a,e,t){var r=cn(a),i=cn(e);function n(y,x,S,b,w){(S||y)&&x.animateFrom({style:S&&S!==y?K(K({},S.style),y.style):y.style},w)}var o=!1,s=zf,l=nt(),u=nt();r.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&u.set(y.childGroupId,!0)});for(var v=0;v<i.length;v++){var c=i[v].groupId;if(u.get(c)){s=ln;break}var f=i[v].childGroupId;if(f&&l.get(f)){s=un;break}}function h(y,x){return function(S){var b=S.data,w=S.dataIndex;return x?b.getId(w):y?s===ln?S.childGroupId:S.groupId:s===un?S.childGroupId:S.groupId}}var d=Uf(r,i),p={};if(!d)for(var v=0;v<i.length;v++){var g=i[v],m=g.data.getItemGraphicEl(g.dataIndex);m&&(p[m.id]=!0)}function _(y,x){var S=r[x],b=i[y],w=b.data.hostModel,T=S.data.getItemGraphicEl(S.dataIndex),C=b.data.getItemGraphicEl(b.dataIndex);if(T===C){C&&Zf(C,b.dataIndex,w);return}T&&p[T.id]||C&&(ae(C),T?(ae(T),Wr(T),o=!0,zr(Zt(T),Zt(C),b.divide,w,y,n)):Vr(C,w,y))}new ea(r,i,h(!0,d),h(!1,d),null,"multiple").update(_).updateManyToOne(function(y,x){var S=i[y],b=S.data,w=b.hostModel,T=b.getItemGraphicEl(S.dataIndex),C=ce(U(x,function(I){return r[I].data.getItemGraphicEl(r[I].dataIndex)}),function(I){return I&&I!==T&&!p[I.id]});T&&(ae(T),C.length?(A(C,function(I){ae(I),Wr(I)}),o=!0,zr(Zt(C),Zt(T),S.divide,w,y,n)):Vr(T,w,S.dataIndex))}).updateOneToMany(function(y,x){var S=r[x],b=S.data.getItemGraphicEl(S.dataIndex);if(!(b&&p[b.id])){var w=ce(U(y,function(C){return i[C].data.getItemGraphicEl(i[C].dataIndex)}),function(C){return C&&C!==b}),T=i[y[0]].data.hostModel;w.length&&(A(w,function(C){return ae(C)}),b?(ae(b),Wr(b),o=!0,zr(Zt(b),Zt(w),S.divide,T,y[0],n)):A(w,function(C){return Vr(C,T,y[0])}))}}).updateManyToMany(function(y,x){new ea(x,y,function(S){return r[S].data.getId(r[S].dataIndex)},function(S){return i[S].data.getId(i[S].dataIndex)}).update(function(S,b){_(y[S],x[b])}).execute()}).execute(),o&&A(e,function(y){var x=y.data,S=x.hostModel,b=S&&t.getViewOfSeriesModel(S),w=Ca("update",S,0);b&&S.isAnimationEnabled()&&w&&w.duration>0&&b.group.traverse(function(T){T instanceof Qt&&!T.animators.length&&T.animateFrom({style:{opacity:0}},w)})})}function fn(a){var e=a.getModel("universalTransition").get("seriesKey");return e||a.id}function hn(a){return Z(a)?a.sort().join(","):a}function Rt(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function Xf(a,e){var t=nt(),r=nt(),i=nt();return A(a.oldSeries,function(n,o){var s=a.oldDataGroupIds[o],l=a.oldData[o],u=fn(n),v=hn(u);r.set(v,{dataGroupId:s,data:l}),Z(u)&&A(u,function(c){i.set(c,{key:v,dataGroupId:s,data:l})})}),A(e.updatedSeries,function(n){if(n.isUniversalTransitionEnabled()&&n.isAnimationEnabled()){var o=n.get("dataGroupId"),s=n.getData(),l=fn(n),u=hn(l),v=r.get(u);if(v)t.set(u,{oldSeries:[{dataGroupId:v.dataGroupId,divide:Rt(v.data),data:v.data}],newSeries:[{dataGroupId:o,divide:Rt(s),data:s}]});else if(Z(l)){var c=[];A(l,function(d){var p=r.get(d);p.data&&c.push({dataGroupId:p.dataGroupId,divide:Rt(p.data),data:p.data})}),c.length&&t.set(u,{oldSeries:c,newSeries:[{dataGroupId:o,data:s,divide:Rt(s)}]})}else{var f=i.get(l);if(f){var h=t.get(f.key);h||(h={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Rt(f.data)}],newSeries:[]},t.set(f.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:Rt(s)})}}}}),t}function dn(a,e){for(var t=0;t<a.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===a[t].seriesIndex||e.seriesId!=null&&e.seriesId===a[t].id;if(r)return t}}function Yf(a,e,t,r){var i=[],n=[];A(jt(a.from),function(o){var s=dn(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Rt(e.oldData[s]),groupIdDim:o.dimension})}),A(jt(a.to),function(o){var s=dn(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();n.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:Rt(l),groupIdDim:o.dimension})}}),i.length>0&&n.length>0&&Yo(i,n,r)}function br(a){a.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){A(jt(r.seriesTransition),function(i){A(jt(i.to),function(n){for(var o=r.updatedSeries,s=0;s<o.length;s++)(n.seriesIndex!=null&&n.seriesIndex===o[s].seriesIndex||n.seriesId!=null&&n.seriesId===o[s].id)&&(o[s][Ar]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(e,t,r){var i=Vf(t);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var n=r.seriesTransition;if(n)A(jt(n),function(h){Yf(h,i,r,t)});else{var o=Xf(i,r);A(o.keys(),function(h){var d=o.get(h);Yo(d.oldSeries,d.newSeries,t)})}A(r.updatedSeries,function(h){h[Ar]&&(h[Ar]=!1)})}for(var s=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],v=i.oldData=[],c=0;c<s.length;c++){var f=s[c].getData();f.count()<Xo&&(l.push(s[c]),u.push(s[c].get("dataGroupId")),v.push(f))}})}function pn(a,e,t){var r=Ml.createCanvas(),i=e.getWidth(),n=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=n+"px",r.setAttribute("data-zr-dom-id",a)),r.width=i*t,r.height=n*t,r}var $r=function(a){W(e,a);function e(t,r,i){var n=a.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;i=i||ro,typeof t=="string"?o=pn(t,r,i):st(t)&&(o=t,t=o.id),n.id=t,n.dom=o;var s=o.style;return s&&(eo(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),n.painter=r,n.dpr=i,n}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=pn("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Tt(0,0,0,0);function v(_){if(!(!_.isFinite()||_.isZero()))if(o.length===0){var y=new Tt(0,0,0,0);y.copy(_),o.push(y)}else{for(var x=!1,S=1/0,b=0,w=0;w<o.length;++w){var T=o[w];if(T.intersect(_)){var C=new Tt(0,0,0,0);C.copy(T),C.union(_),o[w]=C,x=!0;break}else if(l){u.copy(_),u.union(T);var I=_.width*_.height,D=T.width*T.height,L=u.width*u.height,M=L-I-D;M<S&&(S=M,b=w)}}if(l&&(o[b].union(_),x=!0),!x){var y=new Tt(0,0,0,0);y.copy(_),o.push(y)}l||(l=o.length>=s)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var f=t[c];if(f){var h=f.shouldBePainted(i,n,!0,!0),d=f.__isRendered&&(f.__dirty&ta||!h)?f.getPrevPaintRect():null;d&&v(d);var p=h&&(f.__dirty&ta||!f.__isRendered)?f.getPaintRect():null;p&&v(p)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var f=r[c],h=f&&f.shouldBePainted(i,n,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered){var d=f.getPrevPaintRect();d&&v(d)}}var g;do{g=!1;for(var c=0;c<o.length;){if(o[c].isZero()){o.splice(c,1);continue}for(var m=c+1;m<o.length;)o[c].intersect(o[m])?(g=!0,o[c].union(o[m]),o.splice(m,1)):m++;c++}}while(g);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,n=this.dom,o=n.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),n.width=t*i,n.height=r*i,s&&(s.width=t*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var n=this.dom,o=this.ctx,s=n.width,l=n.height;r=r||this.clearColor;var u=this.motionBlur&&!t,v=this.lastFrameAlpha,c=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/c,l/c));var h=this.domBack;function d(p,g,m,_){if(o.clearRect(p,g,m,_),r&&r!=="transparent"){var y=void 0;if(Ll(r)){var x=r.global||r.__width===m&&r.__height===_;y=x&&r.__canvasGradient||kl(o,r,{x:0,y:0,width:m,height:_}),r.__canvasGradient=y,r.__width=m,r.__height=_}else Pl(r)&&(r.scaleX=r.scaleX||c,r.scaleY=r.scaleY||c,y=Ol(o,r,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));o.save(),o.fillStyle=y||r,o.fillRect(p,g,m,_),o.restore()}u&&(o.save(),o.globalAlpha=v,o.drawImage(h,p,g,m,_),o.restore())}!i||u?d(0,0,s,l):i.length&&A(i,function(p){d(p.x*c,p.y*c,p.width*c,p.height*c)})},e}(Al),gn=1e5,$t=314159,Ye=.01,jf=.001;function qf(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function Kf(a,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+a+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Jf=function(){function a(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=K({},r||{}),this.dpr=r.devicePixelRatio||ro,this._singleCanvas=n,this.root=e;var o=e.style;o&&(eo(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(n){var v=e,c=v.width,f=v.height;r.width!=null&&(c=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,v.width=c*this.dpr,v.height=f*this.dpr,this._width=c,this._height=f;var h=new $r(v,this,this.dpr);h.__builtin__=!0,h.initContext(),l[$t]=h,h.zlevel=$t,s.push($t),this._domRoot=e}else{this._width=Fe(e,0,r),this._height=Fe(e,1,r);var u=this._domRoot=Kf(this._width,this._height);e.appendChild(u)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},a.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=n===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0;o<t;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(gn)),n||(n=r.ctx,n.save()),Be(n,s,i,o===t-1))}n&&n.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(gn)},a.prototype.paintOne=function(e,t){El(e,t)},a.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t,r),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Rl(function(){l._paintList(e,t,r,i)})}}},a.prototype._compositeManually=function(){var e=this.getLayer($t).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},a.prototype._doPaintList=function(e,t,r){for(var i=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&n.push(u)}for(var v=!0,c=!1,f=function(p){var g=n[p],m=g.ctx,_=o&&g.createRepaintRects(e,t,h._width,h._height),y=r?g.__startIndex:g.__drawIndex,x=!r&&g.incremental&&Date.now,S=x&&Date.now(),b=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,b,_);else if(y===g.__startIndex){var w=e[y];(!w.incremental||!w.notClear||r)&&g.clear(!1,b,_)}y===-1&&(console.error("For some unknown reason. drawIndex is -1"),y=g.__startIndex);var T,C=function(M){var E={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(T=y;T<g.__endIndex;T++){var O=e[T];if(O.__inHover&&(c=!0),i._doPaintEl(O,g,o,M,E,T===g.__endIndex-1),x){var G=Date.now()-S;if(G>15)break}}E.prevElClipPaths&&m.restore()};if(_)if(_.length===0)T=g.__endIndex;else for(var I=h.dpr,D=0;D<_.length;++D){var L=_[D];m.save(),m.beginPath(),m.rect(L.x*I,L.y*I,L.width*I,L.height*I),m.clip(),C(L),m.restore()}else m.save(),C(),m.restore();g.__drawIndex=T,g.__drawIndex<g.__endIndex&&(v=!1)},h=this,d=0;d<n.length;d++)f(d);return vt.wxa&&A(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:v,needsRefreshHover:c}},a.prototype._doPaintEl=function(e,t,r,i,n,o){var s=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Be(s,e,n,o),e.setPrevPaintRect(l))}else Be(s,e,n,o)},a.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=$t);var r=this._layers[e];return r||(r=new $r("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?ht(r,this._layerConfig[e],!0):this._layerConfig[e-Ye]&&ht(r,this._layerConfig[e-Ye],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},a.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,n=i.length,o=this._domRoot,s=null,l=-1;if(!r[e]&&qf(t)){if(n>0&&e>i[0]){for(l=0;l<n-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},a.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i];e.call(t,this._layers[n],n)}},a.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i],o=this._layers[n];o.__builtin__&&e.call(t,o,n)}},a.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i],o=this._layers[n];o.__builtin__||e.call(t,o,n)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c,f){c.__dirty=c.__used=!1});function t(c){n&&(n.__endIndex!==c&&(n.__dirty=!0),n.__endIndex=c)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,s,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,v=void 0;s!==u&&(s=u,o=0),i.incremental?(v=this.getLayer(u+jf,this._needsManuallyCompositing),v.incremental=!0,o=1):v=this.getLayer(u+(o>0?Ye:0),this._needsManuallyCompositing),v.__builtin__||Nl("ZLevel "+u+" has been used by unkown layer "+v.id),v!==n&&(v.__used=!0,v.__startIndex!==l&&(v.__dirty=!0),v.__startIndex=l,v.incremental?v.__drawIndex=-1:v.__drawIndex=l,t(l),n=v),i.__dirty&ta&&!i.__inHover&&(v.__dirty=!0,v.incremental&&v.__drawIndex<0&&(v.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(c,f){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(e){e.clear()},a.prototype.setBackgroundColor=function(e){this._backgroundColor=e,A(this._layers,function(t){t.setUnpainted()})},a.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?ht(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];if(n===e||n===e+Ye){var o=this._layers[n];ht(o,r[e],!0)}}}},a.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(Ft(r,e),1))},a.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,n=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=Fe(n,0,i),t=Fe(n,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer($t).resize(e,t)}return this},a.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[$t].dom;var t=new $r("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,n=t.dom.height;this.eachLayer(function(c){c.__builtin__?r.drawImage(c.dom,0,0,i,n):c.renderToCanvas&&(r.save(),c.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var v=s[l];Be(r,v,o,l===u-1)}return t.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}();function Sr(a){a.registerPainter("canvas",Jf)}const Qf=600,th=_t({__name:"ChartTemp_1",setup(a){yt([mr,Sr,br,_r,yr,xr]);const e=$([]),t=$([]),r=$(0);function i(l,u){const v=l.time;v!==r.value&&(e.value.push(l),t.value.push(u),e.value.length>Qf&&(e.value.shift(),t.value.shift()),r.value=v)}Ge(je,l=>{l&&oe.value&&i({time:l.time,value:l.value},{time:oe.value.time,value:oe.value.value})});const n=$(null);cr(()=>{e.value=Array.from({length:60},()=>({time:17306496e5,value:""})),t.value=Array.from({length:60},()=>({time:17306496e5,value:""}))}),setInterval(()=>{o()},1e3);function o(){const l=n.value;l&&l.setOption({xAxis:{data:e.value.map(u=>{const v=new Date(u.time),c=String(v.getHours()).padStart(2,"0"),f=String(v.getMinutes()).padStart(2,"0"),h=String(v.getSeconds()).padStart(2,"0");return`${c}:${f}:${h}`})},series:[{name:"温度",data:e.value.map(u=>u.value)},{name:"湿度",data:t.value.map(u=>u.value)}]})}const s=$({title:{show:!0,text:"办公室①温湿度实时数据",left:"center",top:"5%",textStyle:{color:"#fff",fontWeight:"normal",fontSize:18}},grid:{show:!1,borderColor:"#fff",top:"25%",left:"3%",right:"3%",bottom:"10%",width:"94%",containLabel:!0},legend:[{left:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["温度"]},{right:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["湿度"]}],tooltip:{show:!0,trigger:"axis",formatter:function(l){var u="";return u+=l[0].name+"<br/>温度 : "+l[0].value+" °C<br/>湿度 : "+l[1].value+" %",u},axisPointer:{animation:!1}},xAxis:{type:"category",data:[],boundaryGap:!1,axisTick:{show:!0,inside:!0,alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:"#fff"}},axisLabel:{fontStyle:"italic"},splitLine:{show:!1}},yAxis:[{type:"value",show:!0,name:"温度/℃",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"left"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},max:40,min:0,splitLine:{show:!1}},{type:"value",position:"right",name:"湿度/%",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"right"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},boundaryGap:[0,"20%"],splitLine:{show:!1}}],series:[{name:"温度",yAxisIndex:0,type:"line",smooth:!0,align:"right",showSymbol:!1,lineStyle:{width:1,color:"#60df54"},itemStyle:{color:"#60df54",opacity:.7},data:[]},{name:"湿度",yAxisIndex:1,type:"line",smooth:!0,align:"right",showSymbol:!1,lineStyle:{width:1,color:"#5ac2ee"},itemStyle:{color:"#5ac2ee",opacity:.7},data:[]}]});return(l,u)=>(N(),mt(F(fr),{class:"TempChart",option:s.value,ref_key:"echartsRef",ref:n},null,8,["option"]))}}),eh=xt(th,[["__scopeId","data-v-318a2e98"]]),rh=600,ah=_t({__name:"ChartTemp_2",setup(a){yt([mr,Sr,br,_r,yr,xr]);const e=$([]),t=$([]),r=$(0);function i(l,u){const v=l.time;v!==r.value&&(e.value.push(l),t.value.push(u),e.value.length>rh&&(e.value.shift(),t.value.shift()),r.value=v)}Ge(Ke,l=>{l&&le.value&&i({time:l.time,value:l.value},{time:le.value.time,value:le.value.value})});const n=$(null);cr(()=>{e.value=Array.from({length:60},()=>({time:17306496e5,value:""})),t.value=Array.from({length:60},()=>({time:17306496e5,value:""}))}),setInterval(()=>{o()},1e3);function o(){const l=n.value;l&&l.setOption({xAxis:{data:e.value.map(u=>{const v=new Date(u.time),c=String(v.getHours()).padStart(2,"0"),f=String(v.getMinutes()).padStart(2,"0"),h=String(v.getSeconds()).padStart(2,"0");return`${c}:${f}:${h}`})},series:[{name:"温度",data:e.value.map(u=>u.value)},{name:"湿度",data:t.value.map(u=>u.value)}]})}const s=$({title:{show:!0,text:"办公室②温湿度实时数据",left:"center",top:"5%",textStyle:{color:"#fff",fontWeight:"normal",fontSize:18}},grid:{show:!1,borderColor:"#fff",top:"25%",left:"3%",right:"3%",bottom:"10%",width:"94%",containLabel:!0},legend:[{left:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["温度"]},{right:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["湿度"]}],tooltip:{show:!0,trigger:"axis",formatter:function(l){var u="";return u+=l[0].name+"<br/>温度 : "+l[0].value+" °C<br/>湿度 : "+l[1].value+" %",u},axisPointer:{animation:!1}},xAxis:{type:"category",data:[],boundaryGap:!1,axisTick:{show:!0,inside:!0,alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:"#fff"}},axisLabel:{fontStyle:"italic"},splitLine:{show:!1}},yAxis:[{type:"value",show:!0,name:"温度/℃",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"left"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},max:40,min:0,splitLine:{show:!1}},{type:"value",position:"right",name:"湿度/%",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"right"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},boundaryGap:[0,"20%"],splitLine:{show:!1}}],series:[{name:"温度",yAxisIndex:0,type:"line",smooth:!0,align:"right",showSymbol:!1,lineStyle:{width:1,color:"#60df54"},itemStyle:{color:"#60df54",opacity:.7},data:[]},{name:"湿度",yAxisIndex:1,type:"line",smooth:!0,align:"right",showSymbol:!1,lineStyle:{width:1,color:"#5ac2ee"},itemStyle:{color:"#5ac2ee",opacity:.7},data:[]}]});return(l,u)=>(N(),mt(F(fr),{class:"TempChart",option:s.value,ref_key:"echartsRef",ref:n},null,8,["option"]))}}),ih=xt(ah,[["__scopeId","data-v-94628182"]]);var nh=function(a){W(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Wu(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new St,i=Pe("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,l=t.itemHeight*.8,u=Pe(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var v=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=v*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Yr);function jo(a,e,t){var r=a.getBaseAxis(),i=a.getOtherAxis(r),n=oh(i,t),o=r.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(o),v=s==="x"||s==="radius"?1:0,c=U(a.dimensions,function(d){return e.mapDimension(d)}),f=!1,h=e.getCalculationInfo("stackResultDimension");return Oe(e,c[0])&&(f=!0,c[0]=h),Oe(e,c[1])&&(f=!0,c[1]=h),{dataDimsForPoint:c,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:v,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function oh(a,e){var t=0,r=a.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:ge(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function qo(a,e,t,r){var i=NaN;a.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=a.valueStart);var n=a.baseDataOffset,o=[];return o[n]=t.get(a.baseDim,r),o[1-n]=i,e.dataToPoint(o)}function sh(a,e){var t=[];return e.diff(a).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function lh(a,e,t,r,i,n,o,s){for(var l=sh(a,e),u=[],v=[],c=[],f=[],h=[],d=[],p=[],g=jo(i,e,o),m=a.getLayout("points")||[],_=e.getLayout("points")||[],y=0;y<l.length;y++){var x=l[y],S=!0,b=void 0,w=void 0;switch(x.cmd){case"=":b=x.idx*2,w=x.idx1*2;var T=m[b],C=m[b+1],I=_[w],D=_[w+1];(isNaN(T)||isNaN(C))&&(T=I,C=D),u.push(T,C),v.push(I,D),c.push(t[b],t[b+1]),f.push(r[w],r[w+1]),p.push(e.getRawIndex(x.idx1));break;case"+":var L=x.idx,M=g.dataDimsForPoint,E=i.dataToPoint([e.get(M[0],L),e.get(M[1],L)]);w=L*2,u.push(E[0],E[1]),v.push(_[w],_[w+1]);var O=qo(g,i,e,L);c.push(O[0],O[1]),f.push(r[w],r[w+1]),p.push(e.getRawIndex(L));break;case"-":S=!1}S&&(h.push(x),d.push(d.length))}d.sort(function(Vt,rt){return p[Vt]-p[rt]});for(var G=u.length,z=ie(G),R=ie(G),B=ie(G),V=ie(G),tt=[],y=0;y<d.length;y++){var Mt=d[y],lt=y*2,ut=Mt*2;z[lt]=u[ut],z[lt+1]=u[ut+1],R[lt]=v[ut],R[lt+1]=v[ut+1],B[lt]=c[ut],B[lt+1]=c[ut+1],V[lt]=f[ut],V[lt+1]=f[ut+1],tt[y]=h[Mt]}return{current:z,next:R,stackedOnCurrent:B,stackedOnNext:V,status:tt}}var kt=Math.min,Pt=Math.max;function Kt(a,e){return isNaN(a)||isNaN(e)}function ma(a,e,t,r,i,n,o,s,l){for(var u,v,c,f,h,d,p=t,g=0;g<r;g++){var m=e[p*2],_=e[p*2+1];if(p>=i||p<0)break;if(Kt(m,_)){if(l){p+=n;continue}break}if(p===t)a[n>0?"moveTo":"lineTo"](m,_),c=m,f=_;else{var y=m-u,x=_-v;if(y*y+x*x<.5){p+=n;continue}if(o>0){for(var S=p+n,b=e[S*2],w=e[S*2+1];b===m&&w===_&&g<r;)g++,S+=n,p+=n,b=e[S*2],w=e[S*2+1],m=e[p*2],_=e[p*2+1],y=m-u,x=_-v;var T=g+1;if(l)for(;Kt(b,w)&&T<r;)T++,S+=n,b=e[S*2],w=e[S*2+1];var C=.5,I=0,D=0,L=void 0,M=void 0;if(T>=r||Kt(b,w))h=m,d=_;else{I=b-u,D=w-v;var E=m-u,O=b-m,G=_-v,z=w-_,R=void 0,B=void 0;if(s==="x"){R=Math.abs(E),B=Math.abs(O);var V=I>0?1:-1;h=m-V*R*o,d=_,L=m+V*B*o,M=_}else if(s==="y"){R=Math.abs(G),B=Math.abs(z);var tt=D>0?1:-1;h=m,d=_-tt*R*o,L=m,M=_+tt*B*o}else R=Math.sqrt(E*E+G*G),B=Math.sqrt(O*O+z*z),C=B/(B+R),h=m-I*o*(1-C),d=_-D*o*(1-C),L=m+I*o*C,M=_+D*o*C,L=kt(L,Pt(b,m)),M=kt(M,Pt(w,_)),L=Pt(L,kt(b,m)),M=Pt(M,kt(w,_)),I=L-m,D=M-_,h=m-I*R/B,d=_-D*R/B,h=kt(h,Pt(u,m)),d=kt(d,Pt(v,_)),h=Pt(h,kt(u,m)),d=Pt(d,kt(v,_)),I=m-h,D=_-d,L=m+I*B/R,M=_+D*B/R}a.bezierCurveTo(c,f,h,d,m,_),c=L,f=M}else a.lineTo(m,_)}u=m,v=_,p+=n}return g}var Ko=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),uh=function(a){W(e,a);function e(t){var r=a.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ko},e.prototype.buildPath=function(t,r){var i=r.points,n=0,o=i.length/2;if(r.connectNulls){for(;o>0&&Kt(i[o*2-2],i[o*2-1]);o--);for(;n<o&&Kt(i[n*2],i[n*2+1]);n++);}for(;n<o;)n+=ma(t,i,n,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,o=Qn.CMD,s,l,u=r==="x",v=[],c=0;c<n.length;){var f=n[c++],h=void 0,d=void 0,p=void 0,g=void 0,m=void 0,_=void 0,y=void 0;switch(f){case o.M:s=n[c++],l=n[c++];break;case o.L:if(h=n[c++],d=n[c++],y=u?(t-s)/(h-s):(t-l)/(d-l),y<=1&&y>=0){var x=u?(d-l)*y+l:(h-s)*y+s;return u?[t,x]:[x,t]}s=h,l=d;break;case o.C:h=n[c++],d=n[c++],p=n[c++],g=n[c++],m=n[c++],_=n[c++];var S=u?ti(s,h,p,m,t,v):ti(l,d,g,_,t,v);if(S>0)for(var b=0;b<S;b++){var w=v[b];if(w<=1&&w>=0){var x=u?ei(l,d,g,_,w):ei(s,h,p,m,w);return u?[t,x]:[x,t]}}s=m,l=_;break}}},e}(Qt),vh=function(a){W(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e}(Ko),ch=function(a){W(e,a);function e(t){var r=a.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new vh},e.prototype.buildPath=function(t,r){var i=r.points,n=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Kt(i[s*2-2],i[s*2-1]);s--);for(;o<s&&Kt(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=ma(t,i,o,s,s,1,r.smooth,l,r.connectNulls);ma(t,n,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,t.closePath()}},e}(Qt);function fh(a,e,t,r,i){var n=a.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,v=t.get(["lineStyle","width"])||2;o-=v/2,s-=v/2,l+=v,u+=v,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var c=new At({shape:{x:o,y:s,width:l,height:u}});if(e){var f=a.getBaseAxis(),h=f.isHorizontal(),d=f.inverse;h?(d&&(c.shape.x+=l),c.shape.width=0):(d||(c.shape.y+=u),c.shape.height=0);var p=j(i)?function(g){i(g,c)}:null;Ne(c,{shape:{width:l,height:u,x:o,y:s}},t,null,r,p)}return c}function hh(a,e,t){var r=a.getArea(),i=it(r.r0,1),n=it(r.r,1),o=new Qr({shape:{cx:it(a.cx,1),cy:it(a.cy,1),r0:i,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=a.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=i,Ne(o,{shape:{endAngle:r.endAngle,r:n}},t)}return o}function mn(a,e){if(a.length===e.length){for(var t=0;t<a.length;t++)if(a[t]!==e[t])return;return!0}}function yn(a){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,n=0;n<a.length;){var o=a[n++],s=a[n++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[e,t],[r,i]]}function _n(a,e){var t=yn(a),r=t[0],i=t[1],n=yn(e),o=n[0],s=n[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function xn(a){return ge(a)?a:a?.5:0}function dh(a,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=ie(r*2),n=0;n<r;n++){var o=qo(t,a,e,n);i[n*2]=o[0],i[n*2+1]=o[1]}return i}function Ot(a,e,t,r){var i=e.getBaseAxis(),n=i.dim==="x"||i.dim==="radius"?0:1,o=[],s=0,l=[],u=[],v=[],c=[];if(r){for(s=0;s<a.length;s+=2)!isNaN(a[s])&&!isNaN(a[s+1])&&c.push(a[s],a[s+1]);a=c}for(s=0;s<a.length-2;s+=2)switch(v[0]=a[s+2],v[1]=a[s+3],u[0]=a[s],u[1]=a[s+1],o.push(u[0],u[1]),t){case"end":l[n]=v[n],l[1-n]=u[1-n],o.push(l[0],l[1]);break;case"middle":var f=(u[n]+v[n])/2,h=[];l[n]=h[n]=f,l[1-n]=u[1-n],h[1-n]=v[1-n],o.push(l[0],l[1]),o.push(h[0],h[1]);break;default:l[n]=u[n],l[1-n]=v[1-n],o.push(l[0],l[1])}return o.push(a[s++],a[s++]),o}function ph(a,e){var t=[],r=a.length,i,n;function o(v,c,f){var h=v.coord,d=(f-h)/(c.coord-h),p=Hl(d,[v.color,c.color]);return{coord:f,color:p}}for(var s=0;s<r;s++){var l=a[s],u=l.coord;if(u<0)i=l;else if(u>e){n?t.push(o(n,l,e)):i&&t.push(o(i,l,0),o(i,l,e));break}else i&&(t.push(o(i,l,0)),i=null),t.push(l),n=l}return t}function gh(a,e,t){var r=a.getVisual("visualMeta");if(!(!r||!r.length||!a.count())&&e.type==="cartesian2d"){for(var i,n,o=r.length-1;o>=0;o--){var s=a.getDimensionInfo(r[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){n=r[o];break}}if(n){var l=e.getAxis(i),u=U(n.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),v=u.length,c=n.outerColors.slice();v&&u[0].coord>u[v-1].coord&&(u.reverse(),c.reverse());var f=ph(u,i==="x"?t.getWidth():t.getHeight()),h=f.length;if(!h&&v)return u[0].coord<0?c[1]?c[1]:u[v-1].color:c[0]?c[0]:u[0].color;var d=10,p=f[0].coord-d,g=f[h-1].coord+d,m=g-p;if(m<.001)return"transparent";A(f,function(y){y.offset=(y.coord-p)/m}),f.push({offset:h?f[h-1].offset:.5,color:c[1]||"transparent"}),f.unshift({offset:h?f[0].offset:.5,color:c[0]||"transparent"});var _=new Fl(0,0,0,0,f,!0);return _[i]=p,_[i+"2"]=g,_}}}function mh(a,e,t){var r=a.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(i&&yh(n,e))){var o=e.mapDimension(n.dim),s={};return A(n.getViewLabels(),function(l){var u=n.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function yh(a,e){var t=a.getExtent(),r=Math.abs(t[1]-t[0])/a.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),n=Math.max(1,Math.round(i/5)),o=0;o<i;o+=n)if(Pa.getSymbolSize(e,o)[a.isHorizontal()?1:0]*1.5>r)return!1;return!0}function _h(a,e){return isNaN(a)||isNaN(e)}function xh(a){for(var e=a.length/2;e>0&&_h(a[e*2-2],a[e*2-1]);e--);return e-1}function bn(a,e){return[a[e*2],a[e*2+1]]}function bh(a,e,t){for(var r=a.length/2,i=t==="x"?0:1,n,o,s=0,l=-1,u=0;u<r;u++)if(o=a[u*2+i],!(isNaN(o)||isNaN(a[u*2+1-i]))){if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u,n=o}return{range:[s,l],t:(e-n)/(o-n)}}function Jo(a){if(a.get(["endLabel","show"]))return!0;for(var e=0;e<ii.length;e++)if(a.get([ii[e],"endLabel","show"]))return!0;return!1}function Zr(a,e,t,r){if(hf(e,"cartesian2d")){var i=r.getModel("endLabel"),n=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=Jo(r)?function(h,d){a._endLabelOnDuring(h,d,o,s,n,i,e)}:null,u=e.getBaseAxis().isHorizontal(),v=fh(e,t,r,function(){var h=a._endLabel;h&&t&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var c=v.shape,f=Math.max(c.width,c.height);u?(c.y-=f,c.height+=f*2):(c.x-=f,c.width+=f*2)}return l&&l(1,v),v}else return hh(e,t,r)}function Sh(a,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,n=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:a.get("align")||n,verticalAlign:a.get("verticalAlign")||o}}}var wh=function(a){W(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){var t=new St,r=new ff;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},e.prototype.render=function(t,r,i){var n=this,o=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle"),v=t.getModel("areaStyle"),c=l.getLayout("points")||[],f=o.type==="polar",h=this._coordSys,d=this._symbolDraw,p=this._polyline,g=this._polygon,m=this._lineGroup,_=!r.ssr&&t.get("animation"),y=!v.isEmpty(),x=v.get("origin"),S=jo(o,l,x),b=y&&dh(o,l,S),w=t.get("showSymbol"),T=t.get("connectNulls"),C=w&&!f&&mh(t,l,o),I=this._data;I&&I.eachItemGraphicEl(function(rt,wr){rt.__temp&&(s.remove(rt),I.setItemGraphicEl(wr,null))}),w||d.remove(),s.add(m);var D=f?!1:t.get("step"),L;o&&o.getArea&&t.get("clip",!0)&&(L=o.getArea(),L.width!=null?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r+=.5)),this._clipShapeForSymbol=L;var M=gh(l,o,i)||l.getVisual("style")[l.getVisual("drawType")];if(!(p&&h.type===o.type&&D===this._step))w&&d.updateData(l,{isIgnore:C,clipShape:L,disableAnimation:!0,getSymbolPoint:function(rt){return[c[rt*2],c[rt*2+1]]}}),_&&this._initSymbolLabelAnimation(l,o,L),D&&(c=Ot(c,o,D,T),b&&(b=Ot(b,o,D,T))),p=this._newPolyline(c),y?g=this._newPolygon(c,b):g&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,pe(M)),m.setClipPath(Zr(this,o,!0,t));else{y&&!g?g=this._newPolygon(c,b):g&&!y&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,pe(M));var E=m.getClipPath();if(E){var O=Zr(this,o,!1,t);Ne(E,{shape:O.shape},t)}else m.setClipPath(Zr(this,o,!0,t));w&&d.updateData(l,{isIgnore:C,clipShape:L,disableAnimation:!0,getSymbolPoint:function(rt){return[c[rt*2],c[rt*2+1]]}}),(!mn(this._stackedOnPoints,b)||!mn(this._points,c))&&(_?this._doUpdateAnimation(l,b,o,i,D,x,T):(D&&(c=Ot(c,o,D,T),b&&(b=Ot(b,o,D,T))),p.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:b})))}var G=t.getModel("emphasis"),z=G.get("focus"),R=G.get("blurScope"),B=G.get("disabled");if(p.useStyle(J(u.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"})),ri(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var V=p.getState("emphasis").style;V.lineWidth=+p.style.lineWidth+1}at(p).seriesIndex=t.seriesIndex,Jr(p,z,R,B);var tt=xn(t.get("smooth")),Mt=t.get("smoothMonotone");if(p.setShape({smooth:tt,smoothMonotone:Mt,connectNulls:T}),g){var lt=l.getCalculationInfo("stackedOnSeries"),ut=0;g.useStyle(J(v.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),lt&&(ut=xn(lt.get("smooth"))),g.setShape({smooth:tt,stackedOnSmooth:ut,smoothMonotone:Mt,connectNulls:T}),ri(g,t,"areaStyle"),at(g).seriesIndex=t.seriesIndex,Jr(g,z,R,B)}var Vt=function(rt){n._changePolyState(rt)};l.eachItemGraphicEl(function(rt){rt&&(rt.onHoverStateChange=Vt)}),this._polyline.onHoverStateChange=Vt,this._data=l,this._coordSys=o,this._stackedOnPoints=b,this._points=c,this._step=D,this._valueOrigin=x,t.get("triggerLineEvent")&&(this.packEventData(t,p),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,r){at(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,n){var o=t.getData(),s=Kr(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var v=l[s*2],c=l[s*2+1];if(isNaN(v)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,c))return;var f=t.get("zlevel")||0,h=t.get("z")||0;u=new Pa(o,s),u.x=v,u.y=c,u.setZ(f,h);var d=u.getSymbolPath().getTextContent();d&&(d.zlevel=f,d.z=h,d.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Ie.prototype.highlight.call(this,t,r,i,n)},e.prototype.downplay=function(t,r,i,n){var o=t.getData(),s=Kr(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Ie.prototype.downplay.call(this,t,r,i,n)},e.prototype._changePolyState=function(t){var r=this._polygon;ai(this._polyline,t),r&&ai(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new uh({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new ch({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var n,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):r.type==="polar"&&(n=s.dim==="angle",o=!0);var u=t.hostModel,v=u.get("animationDuration");j(v)&&(v=v(null));var c=u.get("animationDelay")||0,f=j(c)?c(null):c;t.eachItemGraphicEl(function(h,d){var p=h;if(p){var g=[h.x,h.y],m=void 0,_=void 0,y=void 0;if(i)if(o){var x=i,S=r.pointToCoord(g);n?(m=x.startAngle,_=x.endAngle,y=-S[1]/180*Math.PI):(m=x.r0,_=x.r,y=S[0])}else{var b=i;n?(m=b.x,_=b.x+b.width,y=h.x):(m=b.y+b.height,_=b.y,y=h.y)}var w=_===m?0:(y-m)/(_-m);l&&(w=1-w);var T=j(c)?c(d):v*w+f,C=p.getSymbolPath(),I=C.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:T}),C.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var n=t.getModel("endLabel");if(Jo(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new wt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var v=xh(l);v>=0&&(Sa(s,ba(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:v,defaultText:function(c,f,h){return h!=null?vf(o,h):Fo(o,c)},enableTextSetter:!0},Sh(n,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,n,o,s,l){var u=this._endLabel,v=this._polyline;if(u){t<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var c=i.getLayout("points"),f=i.hostModel,h=f.get("connectNulls"),d=s.get("precision"),p=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),_=g.inverse,y=r.shape,x=_?m?y.x:y.y+y.height:m?y.x+y.width:y.y,S=(m?p:0)*(_?-1:1),b=(m?0:-p)*(_?-1:1),w=m?"x":"y",T=bh(c,x,w),C=T.range,I=C[1]-C[0],D=void 0;if(I>=1){if(I>1&&!h){var L=bn(c,C[0]);u.attr({x:L[0]+S,y:L[1]+b}),o&&(D=f.getRawValue(C[0]))}else{var L=v.getPointOn(x,w);L&&u.attr({x:L[0]+S,y:L[1]+b});var M=f.getRawValue(C[0]),E=f.getRawValue(C[1]);o&&(D=Gl(i,d,M,E,T.t))}n.lastFrameIndex=C[0]}else{var O=t===1||n.lastFrameIndex>0?C[0]:0,L=bn(c,O);o&&(D=f.getRawValue(O)),u.attr({x:L[0]+S,y:L[1]+b})}if(o){var G=Bl(u);typeof G.setLabelText=="function"&&G.setLabelText(D)}}},e.prototype._doUpdateAnimation=function(t,r,i,n,o,s,l){var u=this._polyline,v=this._polygon,c=t.hostModel,f=lh(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),h=f.current,d=f.stackedOnCurrent,p=f.next,g=f.stackedOnNext;if(o&&(h=Ot(f.current,i,o,l),d=Ot(f.stackedOnCurrent,i,o,l),p=Ot(f.next,i,o,l),g=Ot(f.stackedOnNext,i,o,l)),_n(h,p)>3e3||v&&_n(d,g)>3e3){u.stopAnimation(),u.setShape({points:p}),v&&(v.stopAnimation(),v.setShape({points:p,stackedOnPoints:g}));return}u.shape.__points=f.current,u.shape.points=h;var m={shape:{points:p}};f.current!==h&&(m.shape.__points=f.next),u.stopAnimation(),de(u,m,c),v&&(v.setShape({points:h,stackedOnPoints:d}),v.stopAnimation(),de(v,{shape:{stackedOnPoints:g}},c),u.shape.points!==v.shape.points&&(v.shape.points=u.shape.points));for(var _=[],y=f.status,x=0;x<y.length;x++){var S=y[x].cmd;if(S==="="){var b=t.getItemGraphicEl(y[x].idx1);b&&_.push({el:b,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){v&&v.dirtyShape();for(var w=u.shape.__points,T=0;T<_.length;T++){var C=_[T].el,I=_[T].ptIdx*2;C.x=w[I],C.y=w[I+1],C.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,o){n.__temp&&(r.remove(n),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Ie);function Ch(a,e){return{seriesType:a,plan:zl(),reset:function(t){var r=t.getData(),i=t.coordinateSystem;if(t.pipelineContext,!!i){var n=U(i.dimensions,function(c){return r.mapDimension(c)}).slice(0,2),o=n.length,s=r.getCalculationInfo("stackResultDimension");Oe(r,n[0])&&(n[0]=s),Oe(r,n[1])&&(n[1]=s);var l=r.getStore(),u=r.getDimensionIndex(n[0]),v=r.getDimensionIndex(n[1]);return o&&{progress:function(c,f){for(var h=c.end-c.start,d=ie(h*o),p=[],g=[],m=c.start,_=0;m<c.end;m++){var y=void 0;if(o===1){var x=l.get(u,m);y=i.dataToPoint(x,null,g)}else p[0]=l.get(u,m),p[1]=l.get(v,m),y=i.dataToPoint(p,null,g);d[_++]=y[0],d[_++]=y[1]}f.setLayout("points",d)}}}}}}var Th={average:function(a){for(var e=0,t=0,r=0;r<a.length;r++)isNaN(a[r])||(e+=a[r],t++);return t===0?NaN:e/t},sum:function(a){for(var e=0,t=0;t<a.length;t++)e+=a[t]||0;return e},max:function(a){for(var e=-1/0,t=0;t<a.length;t++)a[t]>e&&(e=a[t]);return isFinite(e)?e:NaN},min:function(a){for(var e=1/0,t=0;t<a.length;t++)a[t]<e&&(e=a[t]);return isFinite(e)?e:NaN},minmax:function(a){for(var e=-1/0,t=-1/0,r=0;r<a.length;r++){var i=a[r],n=Math.abs(i);n>e&&(e=n,t=i)}return isFinite(t)?t:NaN},nearest:function(a){return a[0]}},Ih=function(a){return Math.round(a.length/2)};function Dh(a){return{seriesType:a,reset:function(e,t,r){var i=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),v=l.getExtent(),c=r.getDevicePixelRatio(),f=Math.abs(v[1]-v[0])*(c||1),h=Math.round(s/f);if(isFinite(h)&&h>1){n==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h));var d=void 0;X(n)?d=Th[n]:j(n)&&(d=n),d&&e.setData(i.downSample(i.mapDimension(u.dim),1/h,d,Ih))}}}}}function Qo(a){a.registerChartView(wh),a.registerSeriesModel(nh),a.registerLayout(Ch("line")),a.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Dh("line"))}const Ah=600,Mh=_t({__name:"ChartCO2_1",setup(a){yt([mr,Qo,Sr,br,_r,yr,xr]);const e=$([]),t=$([]),r=$(0);function i(l,u){const v=l.time;v!==r.value&&(e.value.push(l),t.value.push(u),e.value.length>Ah&&(e.value.shift(),t.value.shift()),r.value=v)}Ge(qe,l=>{l&&se.value&&i({time:l.time,value:l.value},{time:se.value.time,value:se.value.value})});const n=$(null);setInterval(()=>{o()},1e3),cr(()=>{e.value=Array.from({length:60},()=>({time:17306496e5,value:""})),t.value=Array.from({length:60},()=>({time:17306496e5,value:""}))});function o(){const l=n.value;l&&l.setOption({xAxis:{data:e.value.map(u=>{const v=new Date(u.time),c=String(v.getHours()).padStart(2,"0"),f=String(v.getMinutes()).padStart(2,"0"),h=String(v.getSeconds()).padStart(2,"0");return`${c}:${f}:${h}`})},series:[{name:"CO₂浓度",data:e.value.map(u=>u.value)},{name:"CH₂O浓度",data:t.value.map(u=>u.value)}]})}const s=$({title:{show:!0,text:"办公室①空气质量实时检测",left:"center",top:"5%",textStyle:{color:"#fff",fontWeight:"normal",fontSize:18}},grid:{show:!1,borderColor:"#fff",top:"25%",left:"3%",right:"3%",bottom:"10%",width:"94%",containLabel:!0},legend:[{left:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["CO₂浓度"]},{right:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["CH₂O浓度"]}],tooltip:{show:!0,trigger:"axis",formatter:function(l){var u="";return u+=l[0].name+"<br/>CO₂浓度 : "+l[0].value+" ppm<br/>CH₂O浓度 : "+l[1].value+" mg/m³",u},axisPointer:{animation:!1}},xAxis:{type:"category",data:[],show:!0,boundaryGap:!1,axisTick:{show:!0,inside:!0,alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:"#fff"}},axisLabel:{fontStyle:"italic"},splitLine:{show:!1}},yAxis:[{type:"value",show:!0,name:"CO₂浓度/(ppm)",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"left"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},boundaryGap:[0,"80%"],splitLine:{show:!1}},{type:"value",position:"right",name:"CH₂O浓度/(mg/m³)",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"right"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},boundaryGap:[0,"10%"],splitLine:{show:!1}}],series:[{name:"CO₂浓度",yAxisIndex:0,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:1,color:"#9ea9ae"},itemStyle:{color:"#9ea9ae",opacity:.7},data:[]},{name:"CH₂O浓度",yAxisIndex:1,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:1,color:"#beeb7b"},itemStyle:{color:"#beeb7b",opacity:.7},data:[]}]});return(l,u)=>(N(),mt(F(fr),{class:"CO2chart",option:s.value,ref_key:"echartsRef",ref:n},null,8,["option"]))}}),Lh=xt(Mh,[["__scopeId","data-v-be917999"]]),kh=600,Ph=_t({__name:"ChartCO2_2",setup(a){yt([mr,Qo,Sr,br,_r,yr,xr]);const e=$([]),t=$([]),r=$(0);function i(l,u){const v=l.time;v!==r.value&&(e.value.push(l),t.value.push(u),e.value.length>kh&&(e.value.shift(),t.value.shift()),r.value=v)}Ge(Je,l=>{l&&ue.value&&i({time:l.time,value:l.value},{time:ue.value.time,value:ue.value.value})});const n=$(null);setInterval(()=>{o()},1e3),cr(()=>{e.value=Array.from({length:60},()=>({time:17306496e5,value:""})),t.value=Array.from({length:60},()=>({time:17306496e5,value:""}))});function o(){const l=n.value;l&&l.setOption({xAxis:{data:e.value.map(u=>{const v=new Date(u.time),c=String(v.getHours()).padStart(2,"0"),f=String(v.getMinutes()).padStart(2,"0"),h=String(v.getSeconds()).padStart(2,"0");return`${c}:${f}:${h}`})},series:[{name:"CO₂浓度",data:e.value.map(u=>u.value)},{name:"CH₂O浓度",data:t.value.map(u=>u.value)}]})}const s=$({title:{show:!0,text:"办公室②空气质量实时检测",left:"center",top:"5%",textStyle:{color:"#fff",fontWeight:"normal",fontSize:18}},grid:{show:!1,borderColor:"#fff",top:"25%",left:"3%",right:"3%",bottom:"10%",width:"94%",containLabel:!0},legend:[{left:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["CO₂浓度"]},{right:"5%",bottom:"1%",textStyle:{color:"#fff",fontType:"italic"},data:["CH₂O浓度"]}],tooltip:{show:!0,trigger:"axis",formatter:function(l){var u="";return u+=l[0].name+"<br/>CO₂浓度 : "+l[0].value+" ppm<br/>CH₂O浓度 : "+l[1].value+" mg/m³",u},axisPointer:{animation:!1}},xAxis:{type:"category",data:[],show:!0,boundaryGap:!1,axisTick:{show:!0,inside:!0,alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:"#fff"}},axisLabel:{fontStyle:"italic"},splitLine:{show:!1}},yAxis:[{type:"value",show:!0,name:"CO₂浓度/(ppm)",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"left"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},boundaryGap:[0,"80%"],splitLine:{show:!1}},{type:"value",position:"right",name:"CH₂O浓度/(mg/m³)",nameTextStyle:{color:"#fff",fontStyle:"italic",align:"right"},axisTick:{show:!1,inside:!0},axisLine:{onZero:!1,lineStyle:{show:!0,color:"#fff"}},axisLabel:{color:"#fff",fontStyle:"italic"},boundaryGap:[0,"10%"],splitLine:{show:!1}}],series:[{name:"CO₂浓度",yAxisIndex:0,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:1,color:"#9ea9ae"},itemStyle:{color:"#9ea9ae",opacity:.7},data:[]},{name:"CH₂O浓度",yAxisIndex:1,type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:1,color:"#beeb7b"},itemStyle:{color:"#beeb7b",opacity:.7},data:[]}]});return(l,u)=>(N(),mt(F(fr),{class:"CO2chart",option:s.value,ref_key:"echartsRef",ref:n},null,8,["option"]))}}),Oh=xt(Ph,[["__scopeId","data-v-c8cf1d9d"]]),Eh=_t({__name:"AccessControl",setup(a){const e=$([{content:"欢迎使用",timestamp:new Date().toLocaleString(),color:"#0080ff"}]),t=Vl(()=>e.value.slice().reverse());return Ge(Zl,(r,i)=>{if(r&&i&&r.time!==i.time){const n={content:r.value==="Unknow"?"未知访客":"欢迎, "+r.value,timestamp:new Date(r.time).toLocaleString(),color:r.value==="Unknow"?"red":"lightgreen"};e.value.push(n)}},{immediate:!1}),(r,i)=>{const n=q("el-timeline-item"),o=q("el-timeline"),s=q("el-scrollbar"),l=q("el-col"),u=q("el-row");return N(),mt(u,{class:"access-control"},{default:P(()=>[k(l,{span:12},{default:P(()=>[k(s,{class:"record-scrollbar"},{default:P(()=>[k(o,null,{default:P(()=>[(N(!0),H($l,null,Wl(t.value,(v,c)=>(N(),mt(n,{key:c,timestamp:v.timestamp,color:v.color},{default:P(()=>[et(pt(v.content),1)]),_:2},1032,["timestamp","color"]))),128))]),_:1})]),_:1})]),_:1}),k(l,{span:12,class:"pic-container"},{default:P(()=>i[0]||(i[0]=[Y("div",{class:"pic"},null,-1)])),_:1})]),_:1})}}}),Rh=xt(Eh,[["__scopeId","data-v-5a1238b1"]]),Sn="/fireOn.svg",wn="/fireOff.svg",Nh="https://iot-api.heclouds.com/thingmodel/set-device-property",Gh="OcFyEAzH58",Bh="fire",Fh="version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_1&et=1761720044&method=md5&sign=JFXruNyGm%2BFixVErw7Mmdg%3D%3D",Hh=_t({__name:"DeviceFire",setup(a){const e=["office_1","office_2"];function t(r){var l;const i=r===1?He:ni,n=e[r-1];let o=((l=i==null?void 0:i.value)==null?void 0:l.value)!=="true";const s={product_id:Gh,device_name:n,params:{[Bh]:o}};console.log(s),hr.post(Nh,s,{headers:{Authorization:Fh,"Content-Type":"application/json"}}).then(u=>{console.log("API请求成功",u)}).catch(u=>{console.error("API请求失败",u)})}return(r,i)=>{const n=q("el-tooltip"),o=q("el-row"),s=q("el-card");return N(),mt(o,null,{default:P(()=>[k(s,{class:"device-card",style:{"margin-right":"1vw"}},{default:P(()=>[k(o,{justify:"center"},{default:P(()=>{var l;return[k(n,{class:"box-item",effect:"light",content:((l=F(He))==null?void 0:l.value)==="true"?"请及时处理消防异常":"消防正常",placement:"right-start"},{default:P(()=>{var u;return[((u=F(He))==null?void 0:u.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:i[0]||(i[0]=v=>t(1)),src:Sn})):(N(),H("img",{key:1,class:"device-icon",onClick:i[1]||(i[1]=v=>t(1)),src:wn}))]}),_:1},8,["content"])]}),_:1}),k(o,{justify:"center"},{default:P(()=>i[4]||(i[4]=[Y("span",{class:"device-name"},"办公室①消防",-1)])),_:1})]),_:1}),k(s,{class:"device-card"},{default:P(()=>[k(o,{justify:"center"},{default:P(()=>{var l;return[k(n,{class:"box-item",effect:"light",content:((l=F(He))==null?void 0:l.value)==="true"?"请及时处理消防异常":"消防正常",placement:"left-end"},{default:P(()=>{var u;return[((u=F(ni))==null?void 0:u.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:i[2]||(i[2]=v=>t(2)),src:Sn})):(N(),H("img",{key:1,class:"device-icon",onClick:i[3]||(i[3]=v=>t(2)),src:wn}))]}),_:1},8,["content"])]}),_:1}),k(o,{justify:"center"},{default:P(()=>i[5]||(i[5]=[Y("span",{class:"device-name"},"办公室②消防",-1)])),_:1})]),_:1})]),_:1})}}}),zh=xt(Hh,[["__scopeId","data-v-65b57e6d"]]),Cn="/airconductorOn.svg",Tn="/airconductorOff.svg",Vh="https://iot-api.heclouds.com/thingmodel/set-device-property",Wh="OcFyEAzH58",$h="airconductor",Zh=_t({__name:"DeviceAir",setup(a){const e=$(!0),t=$(!0),r=["office_1","office_2"],i=["version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_1&et=1761720044&method=md5&sign=JFXruNyGm%2BFixVErw7Mmdg%3D%3D","version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_2&et=1762233160&method=md5&sign=mCWMJY%2BFSHLZzcBlstleCw%3D%3D"];function n(o){let s,l,u;o===1?(e.value=!e.value,s=e.value,l=r[0],u=i[0]):(t.value=!t.value,s=t.value,l=r[1],u=i[1]);const v={product_id:Wh,device_name:l,params:{[$h]:s}};console.log(v),hr.post(Vh,v,{headers:{Authorization:u,"Content-Type":"application/json"}}).then(c=>{console.log("API请求成功",c)}).catch(c=>{console.error("API请求失败",c)})}return(o,s)=>{const l=q("el-tooltip"),u=q("el-row"),v=q("el-card");return N(),mt(u,null,{default:P(()=>[k(v,{class:"device-card",style:{"margin-right":"1vw"}},{default:P(()=>[k(u,{justify:"center"},{default:P(()=>[k(l,{class:"box-item",effect:"light",content:e.value?"已允许自动切换":"已强制关闭",placement:"right-start"},{default:P(()=>{var c;return[((c=F(Ul))==null?void 0:c.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:s[0]||(s[0]=f=>n(1)),src:Cn})):(N(),H("img",{key:1,class:"device-icon",onClick:s[1]||(s[1]=f=>n(1)),src:Tn}))]}),_:1},8,["content"])]),_:1}),k(u,{justify:"center"},{default:P(()=>s[4]||(s[4]=[Y("span",{class:"device-name"},"办公室①空调",-1)])),_:1})]),_:1}),k(v,{class:"device-card"},{default:P(()=>[k(u,{justify:"center"},{default:P(()=>[k(l,{class:"box-item",effect:"light",content:t.value?"已允许自动切换":"已强制关闭",placement:"left-end"},{default:P(()=>{var c;return[((c=F(Xl))==null?void 0:c.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:s[2]||(s[2]=f=>n(2)),src:Cn})):(N(),H("img",{key:1,class:"device-icon",onClick:s[3]||(s[3]=f=>n(2)),src:Tn}))]}),_:1},8,["content"])]),_:1}),k(u,{justify:"center"},{default:P(()=>s[5]||(s[5]=[Y("span",{class:"device-name"},"办公室②空调",-1)])),_:1})]),_:1})]),_:1})}}}),Uh=xt(Zh,[["__scopeId","data-v-502ac584"]]),In="/fanOn.svg",Dn="/fanOff.svg",Xh="https://iot-api.heclouds.com/thingmodel/set-device-property",Yh="OcFyEAzH58",jh="fan",qh=_t({__name:"DeviceFan",setup(a){const e=$(!0),t=$(!0),r=["office_1","office_2"],i=["version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_1&et=1761720044&method=md5&sign=JFXruNyGm%2BFixVErw7Mmdg%3D%3D","version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_2&et=1762233160&method=md5&sign=mCWMJY%2BFSHLZzcBlstleCw%3D%3D"];function n(o){let s,l,u;o===1?(e.value=!e.value,s=e.value,l=r[0],u=i[0]):(t.value=!t.value,s=t.value,l=r[1],u=i[1]);const v={product_id:Yh,device_name:l,params:{[jh]:s}};console.log(v),hr.post(Xh,v,{headers:{Authorization:u,"Content-Type":"application/json"}}).then(c=>{console.log("API请求成功",c)}).catch(c=>{console.error("API请求失败",c)})}return(o,s)=>{const l=q("el-tooltip"),u=q("el-row"),v=q("el-card");return N(),mt(u,null,{default:P(()=>[k(v,{class:"device-card",style:{"margin-right":"1vw"}},{default:P(()=>[k(u,{justify:"center"},{default:P(()=>[k(l,{class:"box-item",effect:"light",content:e.value?"已允许自动切换":"已强制关闭",placement:"right-start"},{default:P(()=>{var c;return[((c=F(Yl))==null?void 0:c.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:s[0]||(s[0]=f=>n(1)),src:In})):(N(),H("img",{key:1,class:"device-icon",onClick:s[1]||(s[1]=f=>n(1)),src:Dn}))]}),_:1},8,["content"])]),_:1}),k(u,{justify:"center"},{default:P(()=>s[4]||(s[4]=[Y("span",{class:"device-name"},"办公室①排气",-1)])),_:1})]),_:1}),k(v,{class:"device-card"},{default:P(()=>[k(u,{justify:"center"},{default:P(()=>[k(l,{class:"box-item",effect:"light",content:t.value?"已允许自动切换":"已强制关闭",placement:"left-end"},{default:P(()=>{var c;return[((c=F(jl))==null?void 0:c.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:s[2]||(s[2]=f=>n(2)),src:In})):(N(),H("img",{key:1,class:"device-icon",onClick:s[3]||(s[3]=f=>n(2)),src:Dn}))]}),_:1},8,["content"])]),_:1}),k(u,{justify:"center"},{default:P(()=>s[5]||(s[5]=[Y("span",{class:"device-name"},"办公室②排气",-1)])),_:1})]),_:1})]),_:1})}}}),Kh=xt(qh,[["__scopeId","data-v-475c2699"]]),An="/lightOn.svg",Mn="/lightOff.svg",Jh="https://iot-api.heclouds.com/thingmodel/set-device-property",Qh="OcFyEAzH58",td="light",ed=_t({__name:"DeviceLight",setup(a){const e=$(!0),t=$(!0),r=["office_1","office_2"],i=["version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_1&et=1761720044&method=md5&sign=JFXruNyGm%2BFixVErw7Mmdg%3D%3D","version=2018-10-31&res=products%2FOcFyEAzH58%2Fdevices%2Foffice_2&et=1762233160&method=md5&sign=mCWMJY%2BFSHLZzcBlstleCw%3D%3D"];function n(o){let s,l,u;o===1?(e.value=!e.value,s=e.value,l=r[0],u=i[0]):(t.value=!t.value,s=t.value,l=r[1],u=i[1]);const v={product_id:Qh,device_name:l,params:{[td]:s}};console.log(v),hr.post(Jh,v,{headers:{Authorization:u,"Content-Type":"application/json"}}).then(c=>{console.log("API请求成功",c)}).catch(c=>{console.error("API请求失败",c)})}return(o,s)=>{const l=q("el-tooltip"),u=q("el-row"),v=q("el-card");return N(),mt(u,null,{default:P(()=>[k(v,{class:"device-card",style:{"margin-right":"1vw"}},{default:P(()=>[k(u,{justify:"center"},{default:P(()=>[k(l,{class:"box-item",effect:"light",content:e.value?"已允许自动切换":"已强制关闭",placement:"right-start"},{default:P(()=>{var c;return[((c=F(ql))==null?void 0:c.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:s[0]||(s[0]=f=>n(1)),src:An})):(N(),H("img",{key:1,class:"device-icon",onClick:s[1]||(s[1]=f=>n(1)),src:Mn}))]}),_:1},8,["content"])]),_:1}),k(u,{justify:"center"},{default:P(()=>s[4]||(s[4]=[Y("span",{class:"device-name"},"办公室①灯光",-1)])),_:1})]),_:1}),k(v,{class:"device-card"},{default:P(()=>[k(u,{justify:"center"},{default:P(()=>[k(l,{class:"box-item",effect:"light",content:t.value?"已允许自动切换":"已强制关闭",placement:"left-end"},{default:P(()=>{var c;return[((c=F(Kl))==null?void 0:c.value)==="true"?(N(),H("img",{key:0,class:"device-icon",onClick:s[2]||(s[2]=f=>n(2)),src:An})):(N(),H("img",{key:1,class:"device-icon",onClick:s[3]||(s[3]=f=>n(2)),src:Mn}))]}),_:1},8,["content"])]),_:1}),k(u,{justify:"center"},{default:P(()=>s[5]||(s[5]=[Y("span",{class:"device-name"},"办公室②灯光",-1)])),_:1})]),_:1})]),_:1})}}}),rd=xt(ed,[["__scopeId","data-v-db9f1e89"]]),ad=_t({__name:"Home",setup(a){return(e,t)=>{const r=q("el-col"),i=q("el-row");return N(),H("div",null,[k(i,{gutter:"10",style:{"margin-top":"3vh"}},{default:P(()=>[k(r,{span:8,style:{"margin-left":"3.5vw"}},{default:P(()=>[k(_u)]),_:1}),k(r,{span:8},{default:P(()=>[k(Rh)]),_:1}),k(r,{span:5,offset:2,style:{"margin-top":"1vh"}},{default:P(()=>[k(zh)]),_:1})]),_:1}),k(i,{gutter:"10"},{default:P(()=>[k(r,{span:8,style:{"margin-left":"3.5vw"}},{default:P(()=>[k(Lh)]),_:1}),k(r,{span:8,style:{"margin-top":"5vh"}},{default:P(()=>[k(eh)]),_:1}),k(r,{span:5,offset:2,style:{"margin-top":"-11vh"}},{default:P(()=>[k(rd)]),_:1})]),_:1}),k(i,{gutter:"10"},{default:P(()=>[k(r,{span:8,style:{"margin-left":"3.5vw"}},{default:P(()=>[k(Oh)]),_:1}),k(r,{span:8,style:{"margin-top":"5vh"}},{default:P(()=>[k(ih)]),_:1}),k(r,{span:5,offset:2,style:{"margin-top":"-28vh"}},{default:P(()=>[k(Uh)]),_:1})]),_:1}),k(i,{gutter:"10"},{default:P(()=>[k(r,{span:8,style:{"margin-left":"3.5vw"}}),k(r,{span:8,style:{"margin-top":"5vh"}}),k(r,{span:5,offset:2,style:{"margin-top":"-45vh"}},{default:P(()=>[k(Kh)]),_:1})]),_:1})])}}}),nd=xt(ad,[["__scopeId","data-v-f47797a5"]]);export{nd as default};
